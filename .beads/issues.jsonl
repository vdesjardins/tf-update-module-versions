{"id":"tmu-0uz","title":"Add batch/recursive file processing for multiple .tf files","status":"open","priority":2,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T18:47:04.732081145-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-25T18:47:04.732081145-05:00","dependencies":[{"issue_id":"tmu-0uz","depends_on_id":"tmu-bu5","type":"blocks","created_at":"2026-01-25T18:47:10.895385577-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-17z","title":"Implement version constraint evaluation logic","description":"Implement constraint evaluation logic in internal/version/constraints.go.\n\nMust support checking if a version satisfies one or more constraints:\n- func (c *Constraint) Matches(version string) (bool, error)\n- func MatchesConstraints(version string, constraints []*Constraint) (bool, error)\n\nKey requirements:\n- Handle all operators from tmu-1d4 (=, !=, \u003e, \u003e=, \u003c, \u003c=, ~\u003e)\n- Use semver for version comparison (already a dependency)\n- Support pessimistic operator: ~\u003e2.0 means \u003e=2.0, \u003c3.0\n- Handle pre-release versions correctly\n- Return clear error messages for invalid versions\n\nUnit tests should cover:\n- Each operator individually\n- Multiple constraints (AND semantics)\n- Edge cases (pre-releases, major versions)\n- Boundary conditions\n\nDepends on: tmu-1d4 (parser must exist first)","status":"closed","priority":3,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T22:44:58.918535119-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T07:28:24.833658502-05:00","closed_at":"2026-01-26T07:28:24.833658502-05:00","close_reason":"Constraint evaluation logic already implemented and integrated as part of tmu-7gv. Matches() method, pessimistic operator support, multiple constraint AND semantics, and comprehensive tests all in place. All tests passing.","dependencies":[{"issue_id":"tmu-17z","depends_on_id":"tmu-1d4","type":"blocks","created_at":"2026-01-25T22:45:15.474329379-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-1d4","title":"Parse and represent version constraint expressions","description":"Create a constraint parser in internal/version/constraints.go that can parse Terraform version constraint expressions.\n\nSupported operators:\n- = (exact match)\n- != (not equal)\n- \u003e (greater than)\n- \u003e= (greater than or equal)\n- \u003c (less than)\n- \u003c= (less than or equal)\n- ~\u003e (pessimistic constraint: ~\u003e1.2 means \u003e=1.2, \u003c2.0)\n\nDeliverables:\n- Constraint struct with operator and version fields\n- Parser function: ParseConstraint(string) (*Constraint, error)\n- Support for multiple constraints (AND semantics)\n- Unit tests covering all operators\n- Examples in code comments\n\nExample usage:\n  ParseConstraint(\"\u003e= 1.2.0\")\n  ParseConstraint(\"~\u003e 2.0\")\n  ParseConstraints(\"\u003e= 1.0, \u003c 2.0\")","status":"closed","priority":3,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T22:44:58.525301986-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T06:34:21.976350307-05:00","closed_at":"2026-01-26T06:34:21.976350307-05:00","close_reason":"Constraint expression parsing fully implemented with comprehensive test coverage. Supports =, !=, \u003e, \u003e=, \u003c, \u003c=, ~\u003e operators. Multiple constraints with AND semantics. All 41 tests passing."}
{"id":"tmu-1pn","title":"Add actionlint to pre-commit hooks for GitHub Actions validation","description":"Add actionlint to the pre-commit hooks configuration to validate GitHub Actions workflows.\n\n## Details\n\nActionLint is a linter for GitHub Actions workflows that catches common errors:\n- Invalid action names and versions\n- Syntax errors in workflow files\n- Security issues\n- Performance problems\n- Best practice violations\n\n## Implementation\n\n1. Add actionlint to .pre-commit-config.yaml\n   - Validates all .github/workflows/*.yml files\n   - Runs on git pre-commit hook\n\n2. Configuration should:\n   - Use latest stable actionlint version\n   - Validate YAML syntax\n   - Check action references\n   - Report errors before commit\n\n3. Document in README:\n   - How pre-commit hooks work\n   - How to run actionlint manually\n   - What to do if linter fails\n\n## Benefits\n\n- Catch workflow errors before pushing to GitHub\n- Prevent broken GitHub Actions from being committed\n- Ensure workflow best practices\n- Improve CI/CD reliability","status":"open","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-02-03T07:23:29.914454406-05:00","created_by":"Vincent Desjardins","updated_at":"2026-02-03T07:23:34.421875687-05:00","dependencies":[{"issue_id":"tmu-1pn","depends_on_id":"tmu-bu5","type":"discovered-from","created_at":"2026-02-03T07:26:08.031532166-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-273","title":"Add integration tests with real Terraform modules","status":"open","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T18:47:00.417554576-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-25T18:47:00.417554576-05:00","dependencies":[{"issue_id":"tmu-273","depends_on_id":"tmu-bu5","type":"blocks","created_at":"2026-01-25T18:47:10.782806781-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-2gi","title":"Add GitHub Action to run pre-commit checks with Nix initialization","description":"Create a GitHub Actions workflow to run pre-commit checks on every push and pull request, using Nix to initialize the environment.\n\n## Details\n\nPre-commit checks need to run in CI to validate code quality before merging. Since the project uses Nix for development environment management, the workflow must initialize Nix first to access all pre-commit hooks and linters.\n\n## Implementation\n\n1. Create .github/workflows/pre-commit.yml workflow\n   - Triggered on: push to main/develop, pull requests\n   - Set up Nix environment (nix-shell or flake)\n   - Run pre-commit against all files\n   - Report results and fail if checks don't pass\n\n2. Workflow steps:\n   - Checkout code\n   - Set up Nix (via actions/setup-nix or similar)\n   - Load development environment (direnv or nix flake)\n   - Run: pre-commit run --all-files\n   - Publish results/artifacts\n\n3. Configuration:\n   - Use cachix for faster Nix evaluation\n   - Set appropriate file patterns (skip non-code files)\n   - Fail build if any pre-commit hook fails\n\n## Benefits\n\n- Automated code quality checks on every PR\n- Catch issues before manual review\n- Ensure consistent linting across all commits\n- Prevent broken code from reaching main branch\n- Enforce project standards in CI/CD pipeline","status":"open","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-02-03T07:25:07.773244175-05:00","created_by":"Vincent Desjardins","updated_at":"2026-02-03T07:25:14.224411859-05:00","dependencies":[{"issue_id":"tmu-2gi","depends_on_id":"tmu-bu5","type":"discovered-from","created_at":"2026-02-03T07:26:08.060243783-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-2t0","title":"Add dry-run mode for update command","status":"open","priority":2,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T18:47:03.756506928-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-25T18:47:03.756506928-05:00","dependencies":[{"issue_id":"tmu-2t0","depends_on_id":"tmu-bu5","type":"blocks","created_at":"2026-01-25T18:47:10.867456344-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-4o1","title":"Implement GitHub release workflow (draft releases, changelog generation)","description":"Implement GitHub release workflow using GoReleaser for automated binary builds, releases, and changelog generation.\n\n## Implementation Approach\n\n### GoReleaser Configuration\n- Create  in project root\n- Build static binaries for multiple platforms/architectures:\n  - linux/amd64, linux/arm64\n  - darwin/amd64, darwin/arm64 (macOS)\n  - windows/amd64\n- Generate checksums and signatures\n\n### Changelog Generation\n- Use conventional commits format for git history\n- Configure GoReleaser to auto-generate changelog from commits\n- Group commits by type: features, fixes, improvements\n- Link to GitHub issues/PRs when referenced\n\n### Release Workflow\n- Create GitHub Actions workflow triggered on version tags (e.g., v1.0.0)\n- Validate conventional commits on PR\n- Create draft releases via GoReleaser before publishing\n- Include:\n  - Compiled binaries for all platforms\n  - Checksums and GPG signatures\n  - Auto-generated changelog\n  - Installation instructions\n\n### GitHub Integration\n- Leverage GoReleaser's native GitHub API integration\n- Create release with binaries as assets\n- Tag protection rules to ensure semantic versioning compliance\n- Release notes populated from conventional commits\n\n### Tasks\n1. Create and configure \n2. Set up GitHub Actions workflow (release.yml)\n3. Configure conventional commits validation (e.g., commitlint)\n4. Test release workflow on test tag\n5. Document release process in README\n6. Set up branch protection and tag rules","status":"in_progress","priority":3,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T18:46:59.618000612-05:00","created_by":"Vincent Desjardins","updated_at":"2026-02-03T07:19:13.320291592-05:00","dependencies":[{"issue_id":"tmu-4o1","depends_on_id":"tmu-bu5","type":"blocks","created_at":"2026-01-25T18:47:10.747341203-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-4rj","title":"Implement disk-based cache storage for registry queries","description":"Create a disk-based cache storage system for registry API responses. Should support:\n- JSON serialization of registry responses\n- TTL-based expiration (configurable, default 24 hours)\n- Thread-safe concurrent access\n- Cache key format: namespace/name/provider\n- Automatic cleanup of expired entries\n\nImplementation location: internal/cache/ package\nMust include unit tests with at least 80% code coverage.","status":"closed","priority":2,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T22:39:33.749868618-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T06:13:54.045943201-05:00","closed_at":"2026-01-26T06:13:54.045943201-05:00","close_reason":"Disk-based cache storage implementation complete with 25 tests, 77.6% coverage, and zero race conditions"}
{"id":"tmu-536","title":"Add configuration file support (.tf-update-config)","status":"open","priority":2,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T18:47:02.916274666-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-25T18:47:02.916274666-05:00","dependencies":[{"issue_id":"tmu-536","depends_on_id":"tmu-bu5","type":"blocks","created_at":"2026-01-25T18:47:10.840328565-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-5rx","title":"Remove vendor directory and dependencies","status":"closed","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-01-26T08:01:57.518887768-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T17:12:23.559930442-05:00","closed_at":"2026-01-26T17:12:23.559930442-05:00","close_reason":"Vendor directory successfully removed, dependencies now managed via go.mod and go.sum"}
{"id":"tmu-76f","title":"Refactor CI workflow to use Nix instead of GitHub Actions for dependency configuration","description":"Refactor the existing GitHub Actions CI workflow to leverage Nix for dependency management instead of using individual GitHub Actions for Go setup and configuration.\n\n## Current Approach\n\nThe current .github/workflows/ci.yml uses:\n- actions/setup-go - Manually configure Go version\n- actions/cache - Manual cache management\n- Multiple workflow steps to replicate local setup\n\n## Problem\n\n- Inconsistency between local dev environment (Nix flake) and CI/CD environment\n- Maintenance burden: duplicate Go version management in two places\n- Complex cache configuration in workflows\n- Developers must remember to update both flake.nix and ci.yml\n\n## Proposed Solution: Nix-Based CI\n\nUse nix flake and nixos/nix-shell-action to initialize the exact same environment as developers use locally.\n\n### Benefits\n\n✅ Single source of truth (flake.nix defines everything)\n✅ Same environment everywhere: local dev = GitHub Actions CI\n✅ Simpler workflow configuration (let Nix handle dependencies)\n✅ Automatic Go version consistency\n✅ Improved cache efficiency (Nix handles caching)\n✅ Easier onboarding for new contributors\n\n### Implementation\n\n#### Option 1: nixos/nix-shell-action (Recommended)\nRunning tests with coverage...\ngo test -v -coverprofile=coverage.out ./...\n\tgithub.com/vdesjardins/terraform-module-versions\t\tcoverage: 0.0% of statements\n\tgithub.com/vdesjardins/terraform-module-versions/cmd/tf-update-module-versions\t\tcoverage: 0.0% of statements\n\tgithub.com/vdesjardins/terraform-module-versions/cmd/tf-update-module-versions/cmd\t\tcoverage: 0.0% of statements\n=== RUN   TestDiskStore_Concurrent_Read_Write\n--- PASS: TestDiskStore_Concurrent_Read_Write (0.11s)\n=== RUN   TestDiskStore_Concurrent_Delete\n--- PASS: TestDiskStore_Concurrent_Delete (0.00s)\n=== RUN   TestDiskStore_Concurrent_Exists_Check\n--- PASS: TestDiskStore_Concurrent_Exists_Check (0.00s)\n=== RUN   TestDiskStore_Concurrent_Mixed_Operations\n--- PASS: TestDiskStore_Concurrent_Mixed_Operations (0.01s)\n=== RUN   TestDiskStore_Race_Condition_Detection\n--- PASS: TestDiskStore_Race_Condition_Detection (0.04s)\n=== RUN   TestDiskStore_Concurrent_Expiration_Cleanup\n--- PASS: TestDiskStore_Concurrent_Expiration_Cleanup (0.10s)\n=== RUN   TestDiskStore_Concurrent_Clear_And_Set\n--- PASS: TestDiskStore_Concurrent_Clear_And_Set (0.02s)\n=== RUN   TestDiskStore_Set_Get\n--- PASS: TestDiskStore_Set_Get (0.00s)\n=== RUN   TestDiskStore_Get_NotFound\n--- PASS: TestDiskStore_Get_NotFound (0.00s)\n=== RUN   TestDiskStore_Get_Expired\n--- PASS: TestDiskStore_Get_Expired (0.02s)\n=== RUN   TestDiskStore_Delete\n--- PASS: TestDiskStore_Delete (0.00s)\n=== RUN   TestDiskStore_Clear\n--- PASS: TestDiskStore_Clear (0.00s)\n=== RUN   TestDiskStore_Exists\n--- PASS: TestDiskStore_Exists (0.02s)\n=== RUN   TestDiskStore_GetExpired\n--- PASS: TestDiskStore_GetExpired (0.02s)\n=== RUN   TestDiskStore_InvalidKey\n--- PASS: TestDiskStore_InvalidKey (0.00s)\n=== RUN   TestDiskStore_Persistence\n--- PASS: TestDiskStore_Persistence (0.00s)\n=== RUN   TestDiskStore_ComplexValues\n--- PASS: TestDiskStore_ComplexValues (0.00s)\n=== RUN   TestDiskStore_NilValue\n--- PASS: TestDiskStore_NilValue (0.00s)\n=== RUN   TestDiskStore_EmptyDirectory\n--- PASS: TestDiskStore_EmptyDirectory (0.00s)\n=== RUN   TestDiskStore_DirectoryCreation\n--- PASS: TestDiskStore_DirectoryCreation (0.00s)\n=== RUN   TestDiskStore_DeleteNonexistent\n--- PASS: TestDiskStore_DeleteNonexistent (0.00s)\nPASS\ncoverage: 77.6% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/cache\t(cached)\tcoverage: 77.6% of statements\n=== RUN   TestNewMatcher_ExactMatch\n=== RUN   TestNewMatcher_ExactMatch/simple_exact_pattern\n=== RUN   TestNewMatcher_ExactMatch/full_module_path\n=== RUN   TestNewMatcher_ExactMatch/pattern_with_dots_-_is_regex\n--- PASS: TestNewMatcher_ExactMatch (0.00s)\n    --- PASS: TestNewMatcher_ExactMatch/simple_exact_pattern (0.00s)\n    --- PASS: TestNewMatcher_ExactMatch/full_module_path (0.00s)\n    --- PASS: TestNewMatcher_ExactMatch/pattern_with_dots_-_is_regex (0.00s)\n=== RUN   TestNewMatcher_RegexMatch\n=== RUN   TestNewMatcher_RegexMatch/simple_regex_with_dot\n=== RUN   TestNewMatcher_RegexMatch/regex_with_quantifier\n=== RUN   TestNewMatcher_RegexMatch/regex_with_character_class\n--- PASS: TestNewMatcher_RegexMatch (0.00s)\n    --- PASS: TestNewMatcher_RegexMatch/simple_regex_with_dot (0.00s)\n    --- PASS: TestNewMatcher_RegexMatch/regex_with_quantifier (0.00s)\n    --- PASS: TestNewMatcher_RegexMatch/regex_with_character_class (0.00s)\n=== RUN   TestMatcher_Matches_Exact\n=== RUN   TestMatcher_Matches_Exact/exact_match\n=== RUN   TestMatcher_Matches_Exact/full_path_exact_match\n=== RUN   TestMatcher_Matches_Exact/no_match_-_different_string\n=== RUN   TestMatcher_Matches_Exact/no_match_-_partial\n--- PASS: TestMatcher_Matches_Exact (0.00s)\n    --- PASS: TestMatcher_Matches_Exact/exact_match (0.00s)\n    --- PASS: TestMatcher_Matches_Exact/full_path_exact_match (0.00s)\n    --- PASS: TestMatcher_Matches_Exact/no_match_-_different_string (0.00s)\n    --- PASS: TestMatcher_Matches_Exact/no_match_-_partial (0.00s)\n=== RUN   TestMatcher_Matches_Regex\n=== RUN   TestMatcher_Matches_Regex/regex_matches_wildcard\n=== RUN   TestMatcher_Matches_Regex/regex_matches_prefix\n=== RUN   TestMatcher_Matches_Regex/regex_matches_suffix\n=== RUN   TestMatcher_Matches_Regex/regex_no_match\n=== RUN   TestMatcher_Matches_Regex/regex_with_full_path\n--- PASS: TestMatcher_Matches_Regex (0.00s)\n    --- PASS: TestMatcher_Matches_Regex/regex_matches_wildcard (0.00s)\n    --- PASS: TestMatcher_Matches_Regex/regex_matches_prefix (0.00s)\n    --- PASS: TestMatcher_Matches_Regex/regex_matches_suffix (0.00s)\n    --- PASS: TestMatcher_Matches_Regex/regex_no_match (0.00s)\n    --- PASS: TestMatcher_Matches_Regex/regex_with_full_path (0.00s)\n=== RUN   TestMatchModule\n=== RUN   TestMatchModule/exact_match\n=== RUN   TestMatchModule/regex_match\n=== RUN   TestMatchModule/no_match\n--- PASS: TestMatchModule (0.00s)\n    --- PASS: TestMatchModule/exact_match (0.00s)\n    --- PASS: TestMatchModule/regex_match (0.00s)\n    --- PASS: TestMatchModule/no_match (0.00s)\nPASS\ncoverage: 65.5% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/filter\t(cached)\tcoverage: 65.5% of statements\n=== RUN   TestFindModulesWithVersions\n--- PASS: TestFindModulesWithVersions (0.00s)\n=== RUN   TestFindAllModules\n--- PASS: TestFindAllModules (0.00s)\nPASS\ncoverage: 57.1% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/finder\t(cached)\tcoverage: 57.1% of statements\n=== RUN   TestNewClientWithCache\n--- PASS: TestNewClientWithCache (0.00s)\n=== RUN   TestNewClientWithoutCache\n--- PASS: TestNewClientWithoutCache (0.00s)\n=== RUN   TestCacheStorageAndRetrieval\n--- PASS: TestCacheStorageAndRetrieval (0.00s)\n=== RUN   TestCacheCheckWithoutStore\n--- PASS: TestCacheCheckWithoutStore (0.00s)\n=== RUN   TestNewVersionFetcher\n--- PASS: TestNewVersionFetcher (0.00s)\n=== RUN   TestNewVersionFetcherDefaultWorkers\n--- PASS: TestNewVersionFetcherDefaultWorkers (0.00s)\n=== RUN   TestVersionFetcherImplementsInterface\n--- PASS: TestVersionFetcherImplementsInterface (0.00s)\n=== RUN   TestGetResult\n--- PASS: TestGetResult (0.00s)\n=== RUN   TestErrors\n--- PASS: TestErrors (0.00s)\nPASS\ncoverage: 12.0% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/registry\t(cached)\tcoverage: 12.0% of statements\n\tgithub.com/vdesjardins/terraform-module-versions/internal/report\t\tcoverage: 0.0% of statements\n=== RUN   TestRegistryHandler\n--- PASS: TestRegistryHandler (0.00s)\n=== RUN   TestGitHubHandler\n--- PASS: TestGitHubHandler (0.00s)\n=== RUN   TestResolverTerraformRegistry\n=== RUN   TestResolverTerraformRegistry/Terraform_Registry\n=== RUN   TestResolverTerraformRegistry/Custom_Registry\n=== RUN   TestResolverTerraformRegistry/GitHub_source\n--- PASS: TestResolverTerraformRegistry (0.00s)\n    --- PASS: TestResolverTerraformRegistry/Terraform_Registry (0.00s)\n    --- PASS: TestResolverTerraformRegistry/Custom_Registry (0.00s)\n    --- PASS: TestResolverTerraformRegistry/GitHub_source (0.00s)\n=== RUN   TestResolverInvalidSources\n=== RUN   TestResolverInvalidSources/empty_source\n=== RUN   TestResolverInvalidSources/too_few_parts\n=== RUN   TestResolverInvalidSources/invalid_github\n--- PASS: TestResolverInvalidSources (0.00s)\n    --- PASS: TestResolverInvalidSources/empty_source (0.00s)\n    --- PASS: TestResolverInvalidSources/too_few_parts (0.00s)\n    --- PASS: TestResolverInvalidSources/invalid_github (0.00s)\n=== RUN   TestRegistryPath\n--- PASS: TestRegistryPath (0.00s)\nPASS\ncoverage: 74.5% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/source\t(cached)\tcoverage: 74.5% of statements\n=== RUN   TestReplacer\n--- PASS: TestReplacer (0.00s)\n=== RUN   TestFileUpdater\n--- PASS: TestFileUpdater (0.00s)\n=== RUN   TestIsTerraformFile\n--- PASS: TestIsTerraformFile (0.00s)\nPASS\ncoverage: 64.1% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/updater\t(cached)\tcoverage: 64.1% of statements\n=== RUN   TestCompareVersions\n=== RUN   TestCompareVersions/v1_\u003c_v2\n=== RUN   TestCompareVersions/v1_\u003e_v2\n=== RUN   TestCompareVersions/v1_==_v2\n=== RUN   TestCompareVersions/patch_version\n=== RUN   TestCompareVersions/minor_version\n=== RUN   TestCompareVersions/prerelease\n=== RUN   TestCompareVersions/invalid_v1\n=== RUN   TestCompareVersions/invalid_v2\n--- PASS: TestCompareVersions (0.00s)\n    --- PASS: TestCompareVersions/v1_\u003c_v2 (0.00s)\n    --- PASS: TestCompareVersions/v1_\u003e_v2 (0.00s)\n    --- PASS: TestCompareVersions/v1_==_v2 (0.00s)\n    --- PASS: TestCompareVersions/patch_version (0.00s)\n    --- PASS: TestCompareVersions/minor_version (0.00s)\n    --- PASS: TestCompareVersions/prerelease (0.00s)\n    --- PASS: TestCompareVersions/invalid_v1 (0.00s)\n    --- PASS: TestCompareVersions/invalid_v2 (0.00s)\n=== RUN   TestIsNewer\n=== RUN   TestIsNewer/2.0.0_is_newer_than_1.0.0\n=== RUN   TestIsNewer/1.0.0_is_not_newer_than_2.0.0\n=== RUN   TestIsNewer/same_version\n--- PASS: TestIsNewer (0.00s)\n    --- PASS: TestIsNewer/2.0.0_is_newer_than_1.0.0 (0.00s)\n    --- PASS: TestIsNewer/1.0.0_is_not_newer_than_2.0.0 (0.00s)\n    --- PASS: TestIsNewer/same_version (0.00s)\n=== RUN   TestSortVersions\n--- PASS: TestSortVersions (0.00s)\n=== RUN   TestGetLatestVersion\n=== RUN   TestGetLatestVersion/normal_case\n=== RUN   TestGetLatestVersion/single_version\n=== RUN   TestGetLatestVersion/empty_list\n--- PASS: TestGetLatestVersion (0.00s)\n    --- PASS: TestGetLatestVersion/normal_case (0.00s)\n    --- PASS: TestGetLatestVersion/single_version (0.00s)\n    --- PASS: TestGetLatestVersion/empty_list (0.00s)\n=== RUN   TestParseConstraint\n=== RUN   TestParseConstraint/exact_match\n=== RUN   TestParseConstraint/greater_than\n=== RUN   TestParseConstraint/greater_than_or_equal\n=== RUN   TestParseConstraint/less_than\n=== RUN   TestParseConstraint/less_than_or_equal\n=== RUN   TestParseConstraint/not_equal\n=== RUN   TestParseConstraint/pessimistic_constraint\n=== RUN   TestParseConstraint/invalid_operator\n=== RUN   TestParseConstraint/invalid_version\n=== RUN   TestParseConstraint/empty_expression\n=== RUN   TestParseConstraint/whitespace_handling\n--- PASS: TestParseConstraint (0.00s)\n    --- PASS: TestParseConstraint/exact_match (0.00s)\n    --- PASS: TestParseConstraint/greater_than (0.00s)\n    --- PASS: TestParseConstraint/greater_than_or_equal (0.00s)\n    --- PASS: TestParseConstraint/less_than (0.00s)\n    --- PASS: TestParseConstraint/less_than_or_equal (0.00s)\n    --- PASS: TestParseConstraint/not_equal (0.00s)\n    --- PASS: TestParseConstraint/pessimistic_constraint (0.00s)\n    --- PASS: TestParseConstraint/invalid_operator (0.00s)\n    --- PASS: TestParseConstraint/invalid_version (0.00s)\n    --- PASS: TestParseConstraint/empty_expression (0.00s)\n    --- PASS: TestParseConstraint/whitespace_handling (0.00s)\n=== RUN   TestConstraintMatches\n=== RUN   TestConstraintMatches/exact_match_equal\n=== RUN   TestConstraintMatches/exact_match_not_equal\n=== RUN   TestConstraintMatches/gt_true\n=== RUN   TestConstraintMatches/gt_false\n=== RUN   TestConstraintMatches/gt_false_less\n=== RUN   TestConstraintMatches/gte_equal\n=== RUN   TestConstraintMatches/gte_greater\n=== RUN   TestConstraintMatches/gte_less\n=== RUN   TestConstraintMatches/lt_true\n=== RUN   TestConstraintMatches/lt_false_equal\n=== RUN   TestConstraintMatches/lt_false_greater\n=== RUN   TestConstraintMatches/lte_equal\n=== RUN   TestConstraintMatches/lte_less\n=== RUN   TestConstraintMatches/lte_greater\n=== RUN   TestConstraintMatches/ne_true\n=== RUN   TestConstraintMatches/ne_false\n=== RUN   TestConstraintMatches/pessimistic_exact_patch\n=== RUN   TestConstraintMatches/pessimistic_patch_up\n=== RUN   TestConstraintMatches/pessimistic_minor_up\n=== RUN   TestConstraintMatches/pessimistic_patch_down\n=== RUN   TestConstraintMatches/pessimistic_minor_exact\n=== RUN   TestConstraintMatches/pessimistic_minor_up#01\n=== RUN   TestConstraintMatches/pessimistic_minor_major_up\n=== RUN   TestConstraintMatches/pessimistic_major_exact\n=== RUN   TestConstraintMatches/pessimistic_major_up\n=== RUN   TestConstraintMatches/pessimistic_major_next\n--- PASS: TestConstraintMatches (0.00s)\n    --- PASS: TestConstraintMatches/exact_match_equal (0.00s)\n    --- PASS: TestConstraintMatches/exact_match_not_equal (0.00s)\n    --- PASS: TestConstraintMatches/gt_true (0.00s)\n    --- PASS: TestConstraintMatches/gt_false (0.00s)\n    --- PASS: TestConstraintMatches/gt_false_less (0.00s)\n    --- PASS: TestConstraintMatches/gte_equal (0.00s)\n    --- PASS: TestConstraintMatches/gte_greater (0.00s)\n    --- PASS: TestConstraintMatches/gte_less (0.00s)\n    --- PASS: TestConstraintMatches/lt_true (0.00s)\n    --- PASS: TestConstraintMatches/lt_false_equal (0.00s)\n    --- PASS: TestConstraintMatches/lt_false_greater (0.00s)\n    --- PASS: TestConstraintMatches/lte_equal (0.00s)\n    --- PASS: TestConstraintMatches/lte_less (0.00s)\n    --- PASS: TestConstraintMatches/lte_greater (0.00s)\n    --- PASS: TestConstraintMatches/ne_true (0.00s)\n    --- PASS: TestConstraintMatches/ne_false (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_exact_patch (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_patch_up (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_minor_up (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_patch_down (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_minor_exact (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_minor_up#01 (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_minor_major_up (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_major_exact (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_major_up (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_major_next (0.00s)\n=== RUN   TestParseConstraints\n=== RUN   TestParseConstraints/single_constraint\n=== RUN   TestParseConstraints/multiple_constraints\n=== RUN   TestParseConstraints/complex_constraints\n=== RUN   TestParseConstraints/empty_expression\n=== RUN   TestParseConstraints/invalid_constraint\n--- PASS: TestParseConstraints (0.00s)\n    --- PASS: TestParseConstraints/single_constraint (0.00s)\n    --- PASS: TestParseConstraints/multiple_constraints (0.00s)\n    --- PASS: TestParseConstraints/complex_constraints (0.00s)\n    --- PASS: TestParseConstraints/empty_expression (0.00s)\n    --- PASS: TestParseConstraints/invalid_constraint (0.00s)\n=== RUN   TestConstraintsMatches\n=== RUN   TestConstraintsMatches/single_constraint_match\n=== RUN   TestConstraintsMatches/multiple_constraints_all_match\n=== RUN   TestConstraintsMatches/multiple_constraints_one_fails\n=== RUN   TestConstraintsMatches/multiple_constraints_one_fails_other_way\n=== RUN   TestConstraintsMatches/range_constraint\n=== RUN   TestConstraintsMatches/range_constraint_excluded\n--- PASS: TestConstraintsMatches (0.00s)\n    --- PASS: TestConstraintsMatches/single_constraint_match (0.00s)\n    --- PASS: TestConstraintsMatches/multiple_constraints_all_match (0.00s)\n    --- PASS: TestConstraintsMatches/multiple_constraints_one_fails (0.00s)\n    --- PASS: TestConstraintsMatches/multiple_constraints_one_fails_other_way (0.00s)\n    --- PASS: TestConstraintsMatches/range_constraint (0.00s)\n    --- PASS: TestConstraintsMatches/range_constraint_excluded (0.00s)\n=== RUN   TestConstraintString\n=== RUN   TestConstraintString/nil_constraint\n=== RUN   TestConstraintString/normal_constraint\n--- PASS: TestConstraintString (0.00s)\n    --- PASS: TestConstraintString/nil_constraint (0.00s)\n    --- PASS: TestConstraintString/normal_constraint (0.00s)\n=== RUN   TestConstraintMatchesNilVersion\n--- PASS: TestConstraintMatchesNilVersion (0.00s)\n=== RUN   TestConstraintMatchesInvalidOperator\n--- PASS: TestConstraintMatchesInvalidOperator (0.00s)\n=== RUN   TestConstraintsMatchesNilConstraints\n--- PASS: TestConstraintsMatchesNilConstraints (0.00s)\n=== RUN   TestConstraintsMatchesStringInvalidVersion\n--- PASS: TestConstraintsMatchesStringInvalidVersion (0.00s)\n=== RUN   TestConstraintsMatchesStringEmptyString\n--- PASS: TestConstraintsMatchesStringEmptyString (0.00s)\n=== RUN   TestConstraintsString\n=== RUN   TestConstraintsString/nil_constraints\n=== RUN   TestConstraintsString/empty_constraints\n=== RUN   TestConstraintsString/single_constraint\n=== RUN   TestConstraintsString/multiple_constraints\n--- PASS: TestConstraintsString (0.00s)\n    --- PASS: TestConstraintsString/nil_constraints (0.00s)\n    --- PASS: TestConstraintsString/empty_constraints (0.00s)\n    --- PASS: TestConstraintsString/single_constraint (0.00s)\n    --- PASS: TestConstraintsString/multiple_constraints (0.00s)\n=== RUN   TestPessimisticConstraintEdgeCases\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_lower\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_higher\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_in_range\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_low\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_high\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_exact\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_patch_boundary\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_patch_within_range\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_only_start\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_only_high\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_only_next\n--- PASS: TestPessimisticConstraintEdgeCases (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_lower (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_higher (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_in_range (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_low (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_high (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_exact (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_patch_boundary (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_patch_within_range (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_only_start (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_only_high (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_only_next (0.00s)\n=== RUN   TestConstraintWithPrerelease\n=== RUN   TestConstraintWithPrerelease/prerelease_exact_match\n=== RUN   TestConstraintWithPrerelease/prerelease_not_equal\n=== RUN   TestConstraintWithPrerelease/prerelease_greater_than\n=== RUN   TestConstraintWithPrerelease/prerelease_greater_than_false\n=== RUN   TestConstraintWithPrerelease/prerelease_less_than\n=== RUN   TestConstraintWithPrerelease/prerelease_less_than_equal\n--- PASS: TestConstraintWithPrerelease (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_exact_match (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_not_equal (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_greater_than (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_greater_than_false (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_less_than (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_less_than_equal (0.00s)\n=== RUN   TestConstraintParseEdgeCases\n=== RUN   TestConstraintParseEdgeCases/no_spaces\n=== RUN   TestConstraintParseEdgeCases/multiple_spaces\n=== RUN   TestConstraintParseEdgeCases/tabs\n=== RUN   TestConstraintParseEdgeCases/missing_operator\n=== RUN   TestConstraintParseEdgeCases/malformed_operator\n=== RUN   TestConstraintParseEdgeCases/version_with_letters\n=== RUN   TestConstraintParseEdgeCases/negative_version\n--- PASS: TestConstraintParseEdgeCases (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/no_spaces (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/multiple_spaces (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/tabs (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/missing_operator (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/malformed_operator (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/version_with_letters (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/negative_version (0.00s)\n=== RUN   TestConstraintsMatchesAllFail\n--- PASS: TestConstraintsMatchesAllFail (0.00s)\n=== RUN   TestConstraintStringWithNilVersion\n--- PASS: TestConstraintStringWithNilVersion (0.00s)\n=== RUN   TestSelectVersion_Latest\n=== RUN   TestSelectVersion_Latest/select_latest_from_multiple_versions\n=== RUN   TestSelectVersion_Latest/select_latest_with_single_version\n=== RUN   TestSelectVersion_Latest/empty_available_versions\n--- PASS: TestSelectVersion_Latest (0.00s)\n    --- PASS: TestSelectVersion_Latest/select_latest_from_multiple_versions (0.00s)\n    --- PASS: TestSelectVersion_Latest/select_latest_with_single_version (0.00s)\n    --- PASS: TestSelectVersion_Latest/empty_available_versions (0.00s)\n=== RUN   TestSelectVersion_Minor\n=== RUN   TestSelectVersion_Minor/select_latest_minor_matching_major\n=== RUN   TestSelectVersion_Minor/no_higher_minor,_same_version_available\n=== RUN   TestSelectVersion_Minor/multiple_patch_versions_same_minor\n=== RUN   TestSelectVersion_Minor/no_matching_major_version\n=== RUN   TestSelectVersion_Minor/invalid_current_version\n--- PASS: TestSelectVersion_Minor (0.00s)\n    --- PASS: TestSelectVersion_Minor/select_latest_minor_matching_major (0.00s)\n    --- PASS: TestSelectVersion_Minor/no_higher_minor,_same_version_available (0.00s)\n    --- PASS: TestSelectVersion_Minor/multiple_patch_versions_same_minor (0.00s)\n    --- PASS: TestSelectVersion_Minor/no_matching_major_version (0.00s)\n    --- PASS: TestSelectVersion_Minor/invalid_current_version (0.00s)\n=== RUN   TestSelectVersion_InvalidStrategy\n--- PASS: TestSelectVersion_InvalidStrategy (0.00s)\n=== RUN   TestSelectVersion_WithConstraints_Latest\n=== RUN   TestSelectVersion_WithConstraints_Latest/select_highest_matching_constraint\n=== RUN   TestSelectVersion_WithConstraints_Latest/single_constraint_lower_bound\n=== RUN   TestSelectVersion_WithConstraints_Latest/single_constraint_upper_bound\n=== RUN   TestSelectVersion_WithConstraints_Latest/pessimistic_constraint\n=== RUN   TestSelectVersion_WithConstraints_Latest/no_versions_match_constraint\n=== RUN   TestSelectVersion_WithConstraints_Latest/exact_match_constraint\n--- PASS: TestSelectVersion_WithConstraints_Latest (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/select_highest_matching_constraint (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/single_constraint_lower_bound (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/single_constraint_upper_bound (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/pessimistic_constraint (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/no_versions_match_constraint (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/exact_match_constraint (0.00s)\n=== RUN   TestSelectVersion_WithConstraints_Minor\n=== RUN   TestSelectVersion_WithConstraints_Minor/minor_strategy_respects_constraints\n=== RUN   TestSelectVersion_WithConstraints_Minor/minor_strategy_with_range_constraint\n=== RUN   TestSelectVersion_WithConstraints_Minor/minor_strategy_no_matching_major\n=== RUN   TestSelectVersion_WithConstraints_Minor/minor_strategy_exact_match_in_same_major\n--- PASS: TestSelectVersion_WithConstraints_Minor (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Minor/minor_strategy_respects_constraints (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Minor/minor_strategy_with_range_constraint (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Minor/minor_strategy_no_matching_major (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Minor/minor_strategy_exact_match_in_same_major (0.00s)\n=== RUN   TestFilterVersionsByConstraints\n=== RUN   TestFilterVersionsByConstraints/filter_range_constraint\n=== RUN   TestFilterVersionsByConstraints/filter_pessimistic_constraint_major\n=== RUN   TestFilterVersionsByConstraints/filter_exact_match\n=== RUN   TestFilterVersionsByConstraints/filter_not_equal\n=== RUN   TestFilterVersionsByConstraints/no_versions_match\n--- PASS: TestFilterVersionsByConstraints (0.00s)\n    --- PASS: TestFilterVersionsByConstraints/filter_range_constraint (0.00s)\n    --- PASS: TestFilterVersionsByConstraints/filter_pessimistic_constraint_major (0.00s)\n    --- PASS: TestFilterVersionsByConstraints/filter_exact_match (0.00s)\n    --- PASS: TestFilterVersionsByConstraints/filter_not_equal (0.00s)\n    --- PASS: TestFilterVersionsByConstraints/no_versions_match (0.00s)\n=== RUN   TestIsValidStrategy\n=== RUN   TestIsValidStrategy/valid_minor\n=== RUN   TestIsValidStrategy/valid_latest\n=== RUN   TestIsValidStrategy/invalid_strategy\n=== RUN   TestIsValidStrategy/empty_string\n=== RUN   TestIsValidStrategy/case_sensitive\n--- PASS: TestIsValidStrategy (0.00s)\n    --- PASS: TestIsValidStrategy/valid_minor (0.00s)\n    --- PASS: TestIsValidStrategy/valid_latest (0.00s)\n    --- PASS: TestIsValidStrategy/invalid_strategy (0.00s)\n    --- PASS: TestIsValidStrategy/empty_string (0.00s)\n    --- PASS: TestIsValidStrategy/case_sensitive (0.00s)\nPASS\ncoverage: 92.4% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/version\t(cached)\tcoverage: 92.4% of statements\nFAIL\tgithub.com/vdesjardins/terraform-module-versions/mod [build failed]\nFAIL\nRunning golangci-lint...\ngolangci-lint run ./...\nBuilding tf-update-module-versions...\ngo build -trimpath -ldflags \"-X main.Version=0.1.0 -X main.Commit=550a73a -X main.BuildTime=2026-02-03T12:43:03Z\" -o bin/tf-update-module-versions ./cmd/tf-update-module-versions\n✓ Binary created: bin/tf-update-module-versions\n\n#### Option 2: Using cachix for Nix builds\n\n\n### Refactor Steps\n\n1. Remove all GitHub Actions dependency configuration:\n   - ❌ Remove actions/setup-go\n   - ❌ Remove actions/cache (for Go modules)\n   - ❌ Remove go mod download steps\n   - ❌ Remove manual cache key management\n\n2. Add Nix shell action:\n   - ✅ Add nixos/nix-shell-action\n   - ✅ Reference flake.nix inputs\n   - ✅ Run commands directly in Nix shell\n\n3. Keep essential actions:\n   - ✅ actions/checkout (for code)\n   - ✅ actions/upload-artifact (for binaries)\n   - ✅ codecov/codecov-action (for coverage)\n\n4. Simplify workflow:\n   - Move all tool configuration to flake.nix\n   - Let Nix handle caching and dependencies\n   - Reduce workflow file from 140+ lines to ~80 lines\n\n### Expected Changes\n\n**Before** (ci.yml ~140 lines):\n- Multiple setup actions\n- Manual cache configuration\n- Explicit Go version management\n- Dependency downloading steps\n\n**After** (ci.yml ~80 lines):\n- Single nix-shell-action\n- Automatic cache via Nix\n- All config in flake.nix\n- Clean, simple workflow\n\n### Verifying flake.nix\n\nCurrent flake.nix should already provide:\n- Go 1.25\n- golangci-lint\n- make\n- git\n\nIf missing, add to devShell.packages in flake.nix.\n\n### Testing\n\n1. Locally test the workflow commands work in Nix shell:\n   \u001b[1mgit+file:///home/vince/projects/experiments/2025-12-07-terraform-module-update\u001b[0m\n\u001b[32;1m├───\u001b[0m\u001b[1mdevShells\u001b[0m\n\u001b[32;1m│   ├───\u001b[0m\u001b[1maarch64-darwin\u001b[0m\n\u001b[32;1m│   │   └───\u001b[0m\u001b[1mdefault\u001b[0m \u001b[35;1momitted\u001b[0m (use '--all-systems' to show)\n\u001b[32;1m│   ├───\u001b[0m\u001b[1maarch64-linux\u001b[0m\n\u001b[32;1m│   │   └───\u001b[0m\u001b[1mdefault\u001b[0m \u001b[35;1momitted\u001b[0m (use '--all-systems' to show)\n\u001b[32;1m│   ├───\u001b[0m\u001b[1mx86_64-darwin\u001b[0m\n\u001b[32;1m│   │   └───\u001b[0m\u001b[1mdefault\u001b[0m \u001b[35;1momitted\u001b[0m (use '--all-systems' to show)\n\u001b[32;1m│   └───\u001b[0m\u001b[1mx86_64-linux\u001b[0m\n\u001b[32;1m│       └───\u001b[0m\u001b[1mdefault\u001b[0m: development environment 'nix-shell'\n\u001b[32;1m└───\u001b[0m\u001b[1mpackages\u001b[0m\n\u001b[32;1m    ├───\u001b[0m\u001b[1maarch64-darwin\u001b[0m\n\u001b[32;1m    │   └───\u001b[0m\u001b[1mdefault\u001b[0m \u001b[35;1momitted\u001b[0m (use '--all-systems' to show)\n\u001b[32;1m    ├───\u001b[0m\u001b[1maarch64-linux\u001b[0m\n\u001b[32;1m    │   └───\u001b[0m\u001b[1mdefault\u001b[0m \u001b[35;1momitted\u001b[0m (use '--all-systems' to show)\n\u001b[32;1m    ├───\u001b[0m\u001b[1mx86_64-darwin\u001b[0m\n\u001b[32;1m    │   └───\u001b[0m\u001b[1mdefault\u001b[0m \u001b[35;1momitted\u001b[0m (use '--all-systems' to show)\n\u001b[32;1m    └───\u001b[0m\u001b[1mx86_64-linux\u001b[0m\n\u001b[32;1m        └───\u001b[0m\u001b[1mdefault\u001b[0m: package 'terraform-module-versions-0.1.0'\nRunning tests with coverage...\ngo test -v -coverprofile=coverage.out ./...\n\tgithub.com/vdesjardins/terraform-module-versions\t\tcoverage: 0.0% of statements\n\tgithub.com/vdesjardins/terraform-module-versions/cmd/tf-update-module-versions\t\tcoverage: 0.0% of statements\n\tgithub.com/vdesjardins/terraform-module-versions/cmd/tf-update-module-versions/cmd\t\tcoverage: 0.0% of statements\n=== RUN   TestDiskStore_Concurrent_Read_Write\n--- PASS: TestDiskStore_Concurrent_Read_Write (0.11s)\n=== RUN   TestDiskStore_Concurrent_Delete\n--- PASS: TestDiskStore_Concurrent_Delete (0.00s)\n=== RUN   TestDiskStore_Concurrent_Exists_Check\n--- PASS: TestDiskStore_Concurrent_Exists_Check (0.00s)\n=== RUN   TestDiskStore_Concurrent_Mixed_Operations\n--- PASS: TestDiskStore_Concurrent_Mixed_Operations (0.01s)\n=== RUN   TestDiskStore_Race_Condition_Detection\n--- PASS: TestDiskStore_Race_Condition_Detection (0.04s)\n=== RUN   TestDiskStore_Concurrent_Expiration_Cleanup\n--- PASS: TestDiskStore_Concurrent_Expiration_Cleanup (0.10s)\n=== RUN   TestDiskStore_Concurrent_Clear_And_Set\n--- PASS: TestDiskStore_Concurrent_Clear_And_Set (0.02s)\n=== RUN   TestDiskStore_Set_Get\n--- PASS: TestDiskStore_Set_Get (0.00s)\n=== RUN   TestDiskStore_Get_NotFound\n--- PASS: TestDiskStore_Get_NotFound (0.00s)\n=== RUN   TestDiskStore_Get_Expired\n--- PASS: TestDiskStore_Get_Expired (0.02s)\n=== RUN   TestDiskStore_Delete\n--- PASS: TestDiskStore_Delete (0.00s)\n=== RUN   TestDiskStore_Clear\n--- PASS: TestDiskStore_Clear (0.00s)\n=== RUN   TestDiskStore_Exists\n--- PASS: TestDiskStore_Exists (0.02s)\n=== RUN   TestDiskStore_GetExpired\n--- PASS: TestDiskStore_GetExpired (0.02s)\n=== RUN   TestDiskStore_InvalidKey\n--- PASS: TestDiskStore_InvalidKey (0.00s)\n=== RUN   TestDiskStore_Persistence\n--- PASS: TestDiskStore_Persistence (0.00s)\n=== RUN   TestDiskStore_ComplexValues\n--- PASS: TestDiskStore_ComplexValues (0.00s)\n=== RUN   TestDiskStore_NilValue\n--- PASS: TestDiskStore_NilValue (0.00s)\n=== RUN   TestDiskStore_EmptyDirectory\n--- PASS: TestDiskStore_EmptyDirectory (0.00s)\n=== RUN   TestDiskStore_DirectoryCreation\n--- PASS: TestDiskStore_DirectoryCreation (0.00s)\n=== RUN   TestDiskStore_DeleteNonexistent\n--- PASS: TestDiskStore_DeleteNonexistent (0.00s)\nPASS\ncoverage: 77.6% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/cache\t(cached)\tcoverage: 77.6% of statements\n=== RUN   TestNewMatcher_ExactMatch\n=== RUN   TestNewMatcher_ExactMatch/simple_exact_pattern\n=== RUN   TestNewMatcher_ExactMatch/full_module_path\n=== RUN   TestNewMatcher_ExactMatch/pattern_with_dots_-_is_regex\n--- PASS: TestNewMatcher_ExactMatch (0.00s)\n    --- PASS: TestNewMatcher_ExactMatch/simple_exact_pattern (0.00s)\n    --- PASS: TestNewMatcher_ExactMatch/full_module_path (0.00s)\n    --- PASS: TestNewMatcher_ExactMatch/pattern_with_dots_-_is_regex (0.00s)\n=== RUN   TestNewMatcher_RegexMatch\n=== RUN   TestNewMatcher_RegexMatch/simple_regex_with_dot\n=== RUN   TestNewMatcher_RegexMatch/regex_with_quantifier\n=== RUN   TestNewMatcher_RegexMatch/regex_with_character_class\n--- PASS: TestNewMatcher_RegexMatch (0.00s)\n    --- PASS: TestNewMatcher_RegexMatch/simple_regex_with_dot (0.00s)\n    --- PASS: TestNewMatcher_RegexMatch/regex_with_quantifier (0.00s)\n    --- PASS: TestNewMatcher_RegexMatch/regex_with_character_class (0.00s)\n=== RUN   TestMatcher_Matches_Exact\n=== RUN   TestMatcher_Matches_Exact/exact_match\n=== RUN   TestMatcher_Matches_Exact/full_path_exact_match\n=== RUN   TestMatcher_Matches_Exact/no_match_-_different_string\n=== RUN   TestMatcher_Matches_Exact/no_match_-_partial\n--- PASS: TestMatcher_Matches_Exact (0.00s)\n    --- PASS: TestMatcher_Matches_Exact/exact_match (0.00s)\n    --- PASS: TestMatcher_Matches_Exact/full_path_exact_match (0.00s)\n    --- PASS: TestMatcher_Matches_Exact/no_match_-_different_string (0.00s)\n    --- PASS: TestMatcher_Matches_Exact/no_match_-_partial (0.00s)\n=== RUN   TestMatcher_Matches_Regex\n=== RUN   TestMatcher_Matches_Regex/regex_matches_wildcard\n=== RUN   TestMatcher_Matches_Regex/regex_matches_prefix\n=== RUN   TestMatcher_Matches_Regex/regex_matches_suffix\n=== RUN   TestMatcher_Matches_Regex/regex_no_match\n=== RUN   TestMatcher_Matches_Regex/regex_with_full_path\n--- PASS: TestMatcher_Matches_Regex (0.00s)\n    --- PASS: TestMatcher_Matches_Regex/regex_matches_wildcard (0.00s)\n    --- PASS: TestMatcher_Matches_Regex/regex_matches_prefix (0.00s)\n    --- PASS: TestMatcher_Matches_Regex/regex_matches_suffix (0.00s)\n    --- PASS: TestMatcher_Matches_Regex/regex_no_match (0.00s)\n    --- PASS: TestMatcher_Matches_Regex/regex_with_full_path (0.00s)\n=== RUN   TestMatchModule\n=== RUN   TestMatchModule/exact_match\n=== RUN   TestMatchModule/regex_match\n=== RUN   TestMatchModule/no_match\n--- PASS: TestMatchModule (0.00s)\n    --- PASS: TestMatchModule/exact_match (0.00s)\n    --- PASS: TestMatchModule/regex_match (0.00s)\n    --- PASS: TestMatchModule/no_match (0.00s)\nPASS\ncoverage: 65.5% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/filter\t(cached)\tcoverage: 65.5% of statements\n=== RUN   TestFindModulesWithVersions\n--- PASS: TestFindModulesWithVersions (0.00s)\n=== RUN   TestFindAllModules\n--- PASS: TestFindAllModules (0.00s)\nPASS\ncoverage: 57.1% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/finder\t(cached)\tcoverage: 57.1% of statements\n=== RUN   TestNewClientWithCache\n--- PASS: TestNewClientWithCache (0.00s)\n=== RUN   TestNewClientWithoutCache\n--- PASS: TestNewClientWithoutCache (0.00s)\n=== RUN   TestCacheStorageAndRetrieval\n--- PASS: TestCacheStorageAndRetrieval (0.00s)\n=== RUN   TestCacheCheckWithoutStore\n--- PASS: TestCacheCheckWithoutStore (0.00s)\n=== RUN   TestNewVersionFetcher\n--- PASS: TestNewVersionFetcher (0.00s)\n=== RUN   TestNewVersionFetcherDefaultWorkers\n--- PASS: TestNewVersionFetcherDefaultWorkers (0.00s)\n=== RUN   TestVersionFetcherImplementsInterface\n--- PASS: TestVersionFetcherImplementsInterface (0.00s)\n=== RUN   TestGetResult\n--- PASS: TestGetResult (0.00s)\n=== RUN   TestErrors\n--- PASS: TestErrors (0.00s)\nPASS\ncoverage: 12.0% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/registry\t(cached)\tcoverage: 12.0% of statements\n\tgithub.com/vdesjardins/terraform-module-versions/internal/report\t\tcoverage: 0.0% of statements\n=== RUN   TestRegistryHandler\n--- PASS: TestRegistryHandler (0.00s)\n=== RUN   TestGitHubHandler\n--- PASS: TestGitHubHandler (0.00s)\n=== RUN   TestResolverTerraformRegistry\n=== RUN   TestResolverTerraformRegistry/Terraform_Registry\n=== RUN   TestResolverTerraformRegistry/Custom_Registry\n=== RUN   TestResolverTerraformRegistry/GitHub_source\n--- PASS: TestResolverTerraformRegistry (0.00s)\n    --- PASS: TestResolverTerraformRegistry/Terraform_Registry (0.00s)\n    --- PASS: TestResolverTerraformRegistry/Custom_Registry (0.00s)\n    --- PASS: TestResolverTerraformRegistry/GitHub_source (0.00s)\n=== RUN   TestResolverInvalidSources\n=== RUN   TestResolverInvalidSources/empty_source\n=== RUN   TestResolverInvalidSources/too_few_parts\n=== RUN   TestResolverInvalidSources/invalid_github\n--- PASS: TestResolverInvalidSources (0.00s)\n    --- PASS: TestResolverInvalidSources/empty_source (0.00s)\n    --- PASS: TestResolverInvalidSources/too_few_parts (0.00s)\n    --- PASS: TestResolverInvalidSources/invalid_github (0.00s)\n=== RUN   TestRegistryPath\n--- PASS: TestRegistryPath (0.00s)\nPASS\ncoverage: 74.5% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/source\t(cached)\tcoverage: 74.5% of statements\n=== RUN   TestReplacer\n--- PASS: TestReplacer (0.00s)\n=== RUN   TestFileUpdater\n--- PASS: TestFileUpdater (0.00s)\n=== RUN   TestIsTerraformFile\n--- PASS: TestIsTerraformFile (0.00s)\nPASS\ncoverage: 64.1% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/updater\t(cached)\tcoverage: 64.1% of statements\n=== RUN   TestCompareVersions\n=== RUN   TestCompareVersions/v1_\u003c_v2\n=== RUN   TestCompareVersions/v1_\u003e_v2\n=== RUN   TestCompareVersions/v1_==_v2\n=== RUN   TestCompareVersions/patch_version\n=== RUN   TestCompareVersions/minor_version\n=== RUN   TestCompareVersions/prerelease\n=== RUN   TestCompareVersions/invalid_v1\n=== RUN   TestCompareVersions/invalid_v2\n--- PASS: TestCompareVersions (0.00s)\n    --- PASS: TestCompareVersions/v1_\u003c_v2 (0.00s)\n    --- PASS: TestCompareVersions/v1_\u003e_v2 (0.00s)\n    --- PASS: TestCompareVersions/v1_==_v2 (0.00s)\n    --- PASS: TestCompareVersions/patch_version (0.00s)\n    --- PASS: TestCompareVersions/minor_version (0.00s)\n    --- PASS: TestCompareVersions/prerelease (0.00s)\n    --- PASS: TestCompareVersions/invalid_v1 (0.00s)\n    --- PASS: TestCompareVersions/invalid_v2 (0.00s)\n=== RUN   TestIsNewer\n=== RUN   TestIsNewer/2.0.0_is_newer_than_1.0.0\n=== RUN   TestIsNewer/1.0.0_is_not_newer_than_2.0.0\n=== RUN   TestIsNewer/same_version\n--- PASS: TestIsNewer (0.00s)\n    --- PASS: TestIsNewer/2.0.0_is_newer_than_1.0.0 (0.00s)\n    --- PASS: TestIsNewer/1.0.0_is_not_newer_than_2.0.0 (0.00s)\n    --- PASS: TestIsNewer/same_version (0.00s)\n=== RUN   TestSortVersions\n--- PASS: TestSortVersions (0.00s)\n=== RUN   TestGetLatestVersion\n=== RUN   TestGetLatestVersion/normal_case\n=== RUN   TestGetLatestVersion/single_version\n=== RUN   TestGetLatestVersion/empty_list\n--- PASS: TestGetLatestVersion (0.00s)\n    --- PASS: TestGetLatestVersion/normal_case (0.00s)\n    --- PASS: TestGetLatestVersion/single_version (0.00s)\n    --- PASS: TestGetLatestVersion/empty_list (0.00s)\n=== RUN   TestParseConstraint\n=== RUN   TestParseConstraint/exact_match\n=== RUN   TestParseConstraint/greater_than\n=== RUN   TestParseConstraint/greater_than_or_equal\n=== RUN   TestParseConstraint/less_than\n=== RUN   TestParseConstraint/less_than_or_equal\n=== RUN   TestParseConstraint/not_equal\n=== RUN   TestParseConstraint/pessimistic_constraint\n=== RUN   TestParseConstraint/invalid_operator\n=== RUN   TestParseConstraint/invalid_version\n=== RUN   TestParseConstraint/empty_expression\n=== RUN   TestParseConstraint/whitespace_handling\n--- PASS: TestParseConstraint (0.00s)\n    --- PASS: TestParseConstraint/exact_match (0.00s)\n    --- PASS: TestParseConstraint/greater_than (0.00s)\n    --- PASS: TestParseConstraint/greater_than_or_equal (0.00s)\n    --- PASS: TestParseConstraint/less_than (0.00s)\n    --- PASS: TestParseConstraint/less_than_or_equal (0.00s)\n    --- PASS: TestParseConstraint/not_equal (0.00s)\n    --- PASS: TestParseConstraint/pessimistic_constraint (0.00s)\n    --- PASS: TestParseConstraint/invalid_operator (0.00s)\n    --- PASS: TestParseConstraint/invalid_version (0.00s)\n    --- PASS: TestParseConstraint/empty_expression (0.00s)\n    --- PASS: TestParseConstraint/whitespace_handling (0.00s)\n=== RUN   TestConstraintMatches\n=== RUN   TestConstraintMatches/exact_match_equal\n=== RUN   TestConstraintMatches/exact_match_not_equal\n=== RUN   TestConstraintMatches/gt_true\n=== RUN   TestConstraintMatches/gt_false\n=== RUN   TestConstraintMatches/gt_false_less\n=== RUN   TestConstraintMatches/gte_equal\n=== RUN   TestConstraintMatches/gte_greater\n=== RUN   TestConstraintMatches/gte_less\n=== RUN   TestConstraintMatches/lt_true\n=== RUN   TestConstraintMatches/lt_false_equal\n=== RUN   TestConstraintMatches/lt_false_greater\n=== RUN   TestConstraintMatches/lte_equal\n=== RUN   TestConstraintMatches/lte_less\n=== RUN   TestConstraintMatches/lte_greater\n=== RUN   TestConstraintMatches/ne_true\n=== RUN   TestConstraintMatches/ne_false\n=== RUN   TestConstraintMatches/pessimistic_exact_patch\n=== RUN   TestConstraintMatches/pessimistic_patch_up\n=== RUN   TestConstraintMatches/pessimistic_minor_up\n=== RUN   TestConstraintMatches/pessimistic_patch_down\n=== RUN   TestConstraintMatches/pessimistic_minor_exact\n=== RUN   TestConstraintMatches/pessimistic_minor_up#01\n=== RUN   TestConstraintMatches/pessimistic_minor_major_up\n=== RUN   TestConstraintMatches/pessimistic_major_exact\n=== RUN   TestConstraintMatches/pessimistic_major_up\n=== RUN   TestConstraintMatches/pessimistic_major_next\n--- PASS: TestConstraintMatches (0.00s)\n    --- PASS: TestConstraintMatches/exact_match_equal (0.00s)\n    --- PASS: TestConstraintMatches/exact_match_not_equal (0.00s)\n    --- PASS: TestConstraintMatches/gt_true (0.00s)\n    --- PASS: TestConstraintMatches/gt_false (0.00s)\n    --- PASS: TestConstraintMatches/gt_false_less (0.00s)\n    --- PASS: TestConstraintMatches/gte_equal (0.00s)\n    --- PASS: TestConstraintMatches/gte_greater (0.00s)\n    --- PASS: TestConstraintMatches/gte_less (0.00s)\n    --- PASS: TestConstraintMatches/lt_true (0.00s)\n    --- PASS: TestConstraintMatches/lt_false_equal (0.00s)\n    --- PASS: TestConstraintMatches/lt_false_greater (0.00s)\n    --- PASS: TestConstraintMatches/lte_equal (0.00s)\n    --- PASS: TestConstraintMatches/lte_less (0.00s)\n    --- PASS: TestConstraintMatches/lte_greater (0.00s)\n    --- PASS: TestConstraintMatches/ne_true (0.00s)\n    --- PASS: TestConstraintMatches/ne_false (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_exact_patch (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_patch_up (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_minor_up (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_patch_down (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_minor_exact (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_minor_up#01 (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_minor_major_up (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_major_exact (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_major_up (0.00s)\n    --- PASS: TestConstraintMatches/pessimistic_major_next (0.00s)\n=== RUN   TestParseConstraints\n=== RUN   TestParseConstraints/single_constraint\n=== RUN   TestParseConstraints/multiple_constraints\n=== RUN   TestParseConstraints/complex_constraints\n=== RUN   TestParseConstraints/empty_expression\n=== RUN   TestParseConstraints/invalid_constraint\n--- PASS: TestParseConstraints (0.00s)\n    --- PASS: TestParseConstraints/single_constraint (0.00s)\n    --- PASS: TestParseConstraints/multiple_constraints (0.00s)\n    --- PASS: TestParseConstraints/complex_constraints (0.00s)\n    --- PASS: TestParseConstraints/empty_expression (0.00s)\n    --- PASS: TestParseConstraints/invalid_constraint (0.00s)\n=== RUN   TestConstraintsMatches\n=== RUN   TestConstraintsMatches/single_constraint_match\n=== RUN   TestConstraintsMatches/multiple_constraints_all_match\n=== RUN   TestConstraintsMatches/multiple_constraints_one_fails\n=== RUN   TestConstraintsMatches/multiple_constraints_one_fails_other_way\n=== RUN   TestConstraintsMatches/range_constraint\n=== RUN   TestConstraintsMatches/range_constraint_excluded\n--- PASS: TestConstraintsMatches (0.00s)\n    --- PASS: TestConstraintsMatches/single_constraint_match (0.00s)\n    --- PASS: TestConstraintsMatches/multiple_constraints_all_match (0.00s)\n    --- PASS: TestConstraintsMatches/multiple_constraints_one_fails (0.00s)\n    --- PASS: TestConstraintsMatches/multiple_constraints_one_fails_other_way (0.00s)\n    --- PASS: TestConstraintsMatches/range_constraint (0.00s)\n    --- PASS: TestConstraintsMatches/range_constraint_excluded (0.00s)\n=== RUN   TestConstraintString\n=== RUN   TestConstraintString/nil_constraint\n=== RUN   TestConstraintString/normal_constraint\n--- PASS: TestConstraintString (0.00s)\n    --- PASS: TestConstraintString/nil_constraint (0.00s)\n    --- PASS: TestConstraintString/normal_constraint (0.00s)\n=== RUN   TestConstraintMatchesNilVersion\n--- PASS: TestConstraintMatchesNilVersion (0.00s)\n=== RUN   TestConstraintMatchesInvalidOperator\n--- PASS: TestConstraintMatchesInvalidOperator (0.00s)\n=== RUN   TestConstraintsMatchesNilConstraints\n--- PASS: TestConstraintsMatchesNilConstraints (0.00s)\n=== RUN   TestConstraintsMatchesStringInvalidVersion\n--- PASS: TestConstraintsMatchesStringInvalidVersion (0.00s)\n=== RUN   TestConstraintsMatchesStringEmptyString\n--- PASS: TestConstraintsMatchesStringEmptyString (0.00s)\n=== RUN   TestConstraintsString\n=== RUN   TestConstraintsString/nil_constraints\n=== RUN   TestConstraintsString/empty_constraints\n=== RUN   TestConstraintsString/single_constraint\n=== RUN   TestConstraintsString/multiple_constraints\n--- PASS: TestConstraintsString (0.00s)\n    --- PASS: TestConstraintsString/nil_constraints (0.00s)\n    --- PASS: TestConstraintsString/empty_constraints (0.00s)\n    --- PASS: TestConstraintsString/single_constraint (0.00s)\n    --- PASS: TestConstraintsString/multiple_constraints (0.00s)\n=== RUN   TestPessimisticConstraintEdgeCases\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_lower\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_higher\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_in_range\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_low\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_high\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_exact\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_patch_boundary\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_patch_within_range\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_only_start\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_only_high\n=== RUN   TestPessimisticConstraintEdgeCases/pessimistic_major_only_next\n--- PASS: TestPessimisticConstraintEdgeCases (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_lower (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_higher (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_with_prerelease_in_range (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_low (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_high (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_boundary_exact (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_patch_boundary (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_patch_within_range (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_only_start (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_only_high (0.00s)\n    --- PASS: TestPessimisticConstraintEdgeCases/pessimistic_major_only_next (0.00s)\n=== RUN   TestConstraintWithPrerelease\n=== RUN   TestConstraintWithPrerelease/prerelease_exact_match\n=== RUN   TestConstraintWithPrerelease/prerelease_not_equal\n=== RUN   TestConstraintWithPrerelease/prerelease_greater_than\n=== RUN   TestConstraintWithPrerelease/prerelease_greater_than_false\n=== RUN   TestConstraintWithPrerelease/prerelease_less_than\n=== RUN   TestConstraintWithPrerelease/prerelease_less_than_equal\n--- PASS: TestConstraintWithPrerelease (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_exact_match (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_not_equal (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_greater_than (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_greater_than_false (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_less_than (0.00s)\n    --- PASS: TestConstraintWithPrerelease/prerelease_less_than_equal (0.00s)\n=== RUN   TestConstraintParseEdgeCases\n=== RUN   TestConstraintParseEdgeCases/no_spaces\n=== RUN   TestConstraintParseEdgeCases/multiple_spaces\n=== RUN   TestConstraintParseEdgeCases/tabs\n=== RUN   TestConstraintParseEdgeCases/missing_operator\n=== RUN   TestConstraintParseEdgeCases/malformed_operator\n=== RUN   TestConstraintParseEdgeCases/version_with_letters\n=== RUN   TestConstraintParseEdgeCases/negative_version\n--- PASS: TestConstraintParseEdgeCases (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/no_spaces (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/multiple_spaces (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/tabs (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/missing_operator (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/malformed_operator (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/version_with_letters (0.00s)\n    --- PASS: TestConstraintParseEdgeCases/negative_version (0.00s)\n=== RUN   TestConstraintsMatchesAllFail\n--- PASS: TestConstraintsMatchesAllFail (0.00s)\n=== RUN   TestConstraintStringWithNilVersion\n--- PASS: TestConstraintStringWithNilVersion (0.00s)\n=== RUN   TestSelectVersion_Latest\n=== RUN   TestSelectVersion_Latest/select_latest_from_multiple_versions\n=== RUN   TestSelectVersion_Latest/select_latest_with_single_version\n=== RUN   TestSelectVersion_Latest/empty_available_versions\n--- PASS: TestSelectVersion_Latest (0.00s)\n    --- PASS: TestSelectVersion_Latest/select_latest_from_multiple_versions (0.00s)\n    --- PASS: TestSelectVersion_Latest/select_latest_with_single_version (0.00s)\n    --- PASS: TestSelectVersion_Latest/empty_available_versions (0.00s)\n=== RUN   TestSelectVersion_Minor\n=== RUN   TestSelectVersion_Minor/select_latest_minor_matching_major\n=== RUN   TestSelectVersion_Minor/no_higher_minor,_same_version_available\n=== RUN   TestSelectVersion_Minor/multiple_patch_versions_same_minor\n=== RUN   TestSelectVersion_Minor/no_matching_major_version\n=== RUN   TestSelectVersion_Minor/invalid_current_version\n--- PASS: TestSelectVersion_Minor (0.00s)\n    --- PASS: TestSelectVersion_Minor/select_latest_minor_matching_major (0.00s)\n    --- PASS: TestSelectVersion_Minor/no_higher_minor,_same_version_available (0.00s)\n    --- PASS: TestSelectVersion_Minor/multiple_patch_versions_same_minor (0.00s)\n    --- PASS: TestSelectVersion_Minor/no_matching_major_version (0.00s)\n    --- PASS: TestSelectVersion_Minor/invalid_current_version (0.00s)\n=== RUN   TestSelectVersion_InvalidStrategy\n--- PASS: TestSelectVersion_InvalidStrategy (0.00s)\n=== RUN   TestSelectVersion_WithConstraints_Latest\n=== RUN   TestSelectVersion_WithConstraints_Latest/select_highest_matching_constraint\n=== RUN   TestSelectVersion_WithConstraints_Latest/single_constraint_lower_bound\n=== RUN   TestSelectVersion_WithConstraints_Latest/single_constraint_upper_bound\n=== RUN   TestSelectVersion_WithConstraints_Latest/pessimistic_constraint\n=== RUN   TestSelectVersion_WithConstraints_Latest/no_versions_match_constraint\n=== RUN   TestSelectVersion_WithConstraints_Latest/exact_match_constraint\n--- PASS: TestSelectVersion_WithConstraints_Latest (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/select_highest_matching_constraint (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/single_constraint_lower_bound (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/single_constraint_upper_bound (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/pessimistic_constraint (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/no_versions_match_constraint (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Latest/exact_match_constraint (0.00s)\n=== RUN   TestSelectVersion_WithConstraints_Minor\n=== RUN   TestSelectVersion_WithConstraints_Minor/minor_strategy_respects_constraints\n=== RUN   TestSelectVersion_WithConstraints_Minor/minor_strategy_with_range_constraint\n=== RUN   TestSelectVersion_WithConstraints_Minor/minor_strategy_no_matching_major\n=== RUN   TestSelectVersion_WithConstraints_Minor/minor_strategy_exact_match_in_same_major\n--- PASS: TestSelectVersion_WithConstraints_Minor (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Minor/minor_strategy_respects_constraints (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Minor/minor_strategy_with_range_constraint (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Minor/minor_strategy_no_matching_major (0.00s)\n    --- PASS: TestSelectVersion_WithConstraints_Minor/minor_strategy_exact_match_in_same_major (0.00s)\n=== RUN   TestFilterVersionsByConstraints\n=== RUN   TestFilterVersionsByConstraints/filter_range_constraint\n=== RUN   TestFilterVersionsByConstraints/filter_pessimistic_constraint_major\n=== RUN   TestFilterVersionsByConstraints/filter_exact_match\n=== RUN   TestFilterVersionsByConstraints/filter_not_equal\n=== RUN   TestFilterVersionsByConstraints/no_versions_match\n--- PASS: TestFilterVersionsByConstraints (0.00s)\n    --- PASS: TestFilterVersionsByConstraints/filter_range_constraint (0.00s)\n    --- PASS: TestFilterVersionsByConstraints/filter_pessimistic_constraint_major (0.00s)\n    --- PASS: TestFilterVersionsByConstraints/filter_exact_match (0.00s)\n    --- PASS: TestFilterVersionsByConstraints/filter_not_equal (0.00s)\n    --- PASS: TestFilterVersionsByConstraints/no_versions_match (0.00s)\n=== RUN   TestIsValidStrategy\n=== RUN   TestIsValidStrategy/valid_minor\n=== RUN   TestIsValidStrategy/valid_latest\n=== RUN   TestIsValidStrategy/invalid_strategy\n=== RUN   TestIsValidStrategy/empty_string\n=== RUN   TestIsValidStrategy/case_sensitive\n--- PASS: TestIsValidStrategy (0.00s)\n    --- PASS: TestIsValidStrategy/valid_minor (0.00s)\n    --- PASS: TestIsValidStrategy/valid_latest (0.00s)\n    --- PASS: TestIsValidStrategy/invalid_strategy (0.00s)\n    --- PASS: TestIsValidStrategy/empty_string (0.00s)\n    --- PASS: TestIsValidStrategy/case_sensitive (0.00s)\nPASS\ncoverage: 92.4% of statements\nok  \tgithub.com/vdesjardins/terraform-module-versions/internal/version\t(cached)\tcoverage: 92.4% of statements\nFAIL\tgithub.com/vdesjardins/terraform-module-versions/mod [build failed]\nFAIL\n\n2. Push changes and verify GitHub Actions uses Nix correctly\n\n### Related Issues\n\n- This refactor will benefit tmu-2gi (Pre-commit with Nix in GitHub Action)\n- Both use Nix for environment consistency\n\n### Benefits Summary\n\n✅ Consistency: Same environment everywhere\n✅ Maintainability: Single source of truth (flake.nix)\n✅ Simplicity: Fewer workflow actions and configurations\n✅ Performance: Nix caching is more efficient than manual caching\n✅ Onboarding: New contributors see exactly what tools are needed","status":"closed","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-02-03T07:42:50.928647847-05:00","created_by":"Vincent Desjardins","updated_at":"2026-02-03T07:45:12.779551354-05:00","closed_at":"2026-02-03T07:45:12.779551354-05:00","close_reason":"Successfully refactored CI workflow to use Nix instead of GitHub Actions. Replaced setup-go and cache actions with nix develop command. All dependencies (Go 1.25, golangci-lint, make) now managed by flake.nix. Workflow reduced from 140+ to 64 lines. Single source of truth ensures environment consistency between local dev and CI. Updated README with detailed explanation of Nix-based approach.","dependencies":[{"issue_id":"tmu-76f","depends_on_id":"tmu-bu5","type":"discovered-from","created_at":"2026-02-03T07:43:10.021079157-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-7d3","title":"Add color support to CLI output with TTY detection","description":"Add ANSI color support to CLI output for better readability. Implementation should:\n\n- Detect if output is to a TTY (terminal)\n- Automatically enable colors when writing to terminal\n- Automatically disable colors when piping to file or another command\n- Apply colors to: command status messages, error messages, version information, and update summaries\n- Maintain clean, readable output in both colored and non-colored modes\n- Consider using a library like github.com/fatih/color for cross-platform support","status":"open","priority":2,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-26T19:11:12.192901534-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T19:11:15.799499691-05:00"}
{"id":"tmu-7gv","title":"Integrate constraints into version selection strategy","description":"Integrate constraint evaluation into the version selection strategy.\n\nModify internal/version/strategy.go to:\n- Add ConstraintStrategy (new strategy type alongside StrategyMinor/StrategyLatest)\n- Update SelectVersion() to accept optional constraints parameter\n- Filter available versions through constraint evaluation\n- Return highest version that satisfies constraints\n\nNew function signature:\n  SelectVersion(currentVersion string, availableVersions []string, strategy Strategy, constraints []*Constraint) (string, error)\n\nExamples:\n- SelectVersion(\"1.2.0\", [\"2.0.0\", \"1.5.2\", \"1.4.0\"], StrategyMinor, [~\u003e1.0])\n  → Returns \"1.5.2\" (matches ~\u003e1.0 and is latest 1.x)\n  \n- SelectVersion(\"2.0.0\", [\"3.0.0\", \"2.5.0\", \"1.9.0\"], StrategyLatest, [\u003e=2.0, \u003c3.0])\n  → Returns \"2.5.0\" (highest matching constraint)\n\nEnsure backward compatibility: constraints parameter optional (nil = no filtering)\n\nDepends on: tmu-1d4, tmu-17z","status":"closed","priority":3,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T22:44:59.493763823-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T07:04:48.987558659-05:00","closed_at":"2026-01-26T07:04:48.987558659-05:00","close_reason":"Integrate version constraints into SelectVersion() function. Added optional Constraints parameter to enable filtering versions by constraints before selection. Maintained backward compatibility with nil constraints. Added comprehensive tests covering latest/minor strategies with various constraint types (range, pessimistic, exact match, not-equal). All 68 version package tests pass.","dependencies":[{"issue_id":"tmu-7gv","depends_on_id":"tmu-17z","type":"blocks","created_at":"2026-01-25T22:45:15.502915517-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-7qu","title":"Code review: Constraint support implementation (tmu-sh8 feature set)","description":"Code review checklist for the complete constraint support implementation (tmu-sh8 feature).\n\n## Implementation Issues to Review\n- tmu-1d4: Parse constraint expressions\n- tmu-17z: Constraint evaluation logic\n- tmu-7gv: Integration into version selection\n- tmu-juw: CLI flags for constraints\n- tmu-fpb: Comprehensive test suite\n\n## Code Review Checklist\n\n### Parser (tmu-1d4)\n- [ ] All 7 operators supported: =, !=, \u003e, \u003e=, \u003c, \u003c=, ~\u003e\n- [ ] Whitespace handling is robust\n- [ ] Error messages explain syntax errors clearly\n- [ ] Pessimistic operator (~\u003e) correctly documented\n- [ ] ParseConstraint and ParseConstraints both work\n- [ ] Multiple constraint parsing uses AND semantics consistently\n\n### Evaluator (tmu-17z)\n- [ ] Matches() method correctly implements each operator\n- [ ] ~\u003e operator correctly calculates version ranges\n  - ~\u003e1.2 should reject 1.3, 2.0\n  - ~\u003e2 should reject 3.0\n- [ ] Pre-release handling is correct\n  - \u003e= 1.0 excludes 1.1.0-alpha by default\n  - \u003e= 1.0.0-alpha includes 1.0.0-alpha\n- [ ] Multiple constraints all evaluated (AND semantics)\n- [ ] Error messages guide user to fix invalid inputs\n\n### Integration (tmu-7gv)\n- [ ] SelectVersion filters versions through constraints\n- [ ] Highest matching version correctly selected\n- [ ] StrategyMinor respects constraints\n- [ ] StrategyLatest respects constraints\n- [ ] No versions match → clear error message\n- [ ] Current version violates constraints → warning issued\n- [ ] Backward compatibility: nil constraints = no filtering\n\n### CLI (tmu-juw)\n- [ ] --constraint flag accepts multiple values\n- [ ] --constraint-file parses JSON correctly\n- [ ] --constraint-file parses YAML correctly\n- [ ] Invalid constraint syntax errors at startup\n- [ ] File not found error is clear\n- [ ] Constraints displayed in output\n- [ ] Works with both show and update commands\n\n### Testing (tmu-fpb)\n- [ ] Parser: All 7 operators tested individually\n- [ ] Parser: Whitespace edge cases covered\n- [ ] Parser: Invalid syntax caught\n- [ ] Evaluator: Range filtering works (\u003e= 1.0, \u003c 2.0)\n- [ ] Evaluator: Boundary conditions tested (major/minor/patch)\n- [ ] Evaluator: Pre-releases handled correctly\n- [ ] Integration: Filters versions correctly\n- [ ] Integration: Selection works with constraints\n- [ ] CLI: Multiple flags parsed correctly\n- [ ] CLI: File formats handled\n- [ ] Performance: 100+ versions evaluated quickly\n- [ ] Coverage: 90% on constraints.go, 85% on strategy.go changes\n\n### Code Quality\n- [ ] Pessimistic operator (~\u003e) clearly explained in comments\n- [ ] Version comparison uses existing semver library correctly\n- [ ] Error handling is comprehensive\n- [ ] No panics on invalid input\n- [ ] Logging appropriate for debugging\n- [ ] Function names are clear and self-documenting\n\n### Edge Cases \u0026 Correctness\n- [ ] Single digit versions: ~\u003e1 means \u003c 2 ✓\n- [ ] Pre-release pre-releases: \u003e= 1.0.0-alpha works ✓\n- [ ] Range overlaps: \u003e= 1.0, \u003e= 2.0 both evaluated ✓\n- [ ] No matching versions: Error is clear ✓\n- [ ] Current version violates: Warning issued ✓\n- [ ] Empty constraint list: No crash ✓\n\n### Performance \u0026 Scalability\n- [ ] Constraint evaluation fast with 100+ versions\n- [ ] No unnecessary allocations\n- [ ] String parsing is efficient\n- [ ] Semver comparison is optimal\n\n### Documentation\n- [ ] Constraint syntax documented in help\n- [ ] Examples show real usage patterns\n- [ ] Pessimistic operator explained clearly\n- [ ] Limitations documented (e.g., pre-release handling)\n- [ ] README includes constraint examples\n\n### Backward Compatibility\n- [ ] Code works without constraints (existing behavior unchanged)\n- [ ] SelectVersion without constraints uses old logic\n- [ ] No breaking changes to public APIs\n- [ ] Can be added incrementally\n\n## Sign-Off Criteria\n- [ ] All checklist items reviewed\n- [ ] No critical issues found\n- [ ] Code follows project style guide\n- [ ] Tests pass locally and in CI (90%+ coverage achieved)\n- [ ] Performance acceptable\n- [ ] Pessimistic operator behavior verified manually\n\n**Reviewer**: _____________  \n**Date**: _____________  \n**Status**: Pass / Needs Work","status":"closed","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T22:52:06.933744473-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T07:54:01.566010589-05:00","closed_at":"2026-01-26T07:54:01.566010589-05:00","close_reason":"Code review complete. Verified: (1) Constraint parser correctly implements all 7 operators (=, !=, \u003e, \u003e=, \u003c, \u003c=, ~\u003e) with proper error handling and whitespace parsing. (2) Evaluator (matchesPessimistic) correctly implements pessimistic versioning logic. (3) Strategy integration via filterVersionsByConstraints with Constraints AND semantics. (4) CLI flags --constraint and --constraint-file properly wired in show and update commands with mutually exclusive validation. (5) Comprehensive test coverage 92.4% with all edge cases tested. Implementation production-ready.","dependencies":[{"issue_id":"tmu-7qu","depends_on_id":"tmu-1d4","type":"discovered-from","created_at":"2026-01-25T22:52:31.659722168-05:00","created_by":"Vincent Desjardins"},{"issue_id":"tmu-7qu","depends_on_id":"tmu-17z","type":"discovered-from","created_at":"2026-01-25T22:52:31.687437749-05:00","created_by":"Vincent Desjardins"},{"issue_id":"tmu-7qu","depends_on_id":"tmu-7gv","type":"discovered-from","created_at":"2026-01-25T22:52:31.71766623-05:00","created_by":"Vincent Desjardins"},{"issue_id":"tmu-7qu","depends_on_id":"tmu-juw","type":"discovered-from","created_at":"2026-01-25T22:52:31.749624826-05:00","created_by":"Vincent Desjardins"},{"issue_id":"tmu-7qu","depends_on_id":"tmu-fpb","type":"discovered-from","created_at":"2026-01-25T22:52:31.778271201-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-893","title":"Code review: Caching layer implementation (tmu-i1s feature set)","description":"Code review checklist for the complete caching layer implementation (tmu-i1s feature).\n\n## Implementation Issues to Review\n- tmu-4rj: Disk-based cache storage\n- tmu-u7w: Cache integration into registry Client\n- tmu-r2x: Cache control CLI flags\n\n## Code Review Checklist\n\n### Architecture \u0026 Design\n- [ ] Cache design follows Go best practices\n- [ ] Thread-safe implementation (proper mutex usage, no race conditions)\n- [ ] Cache key format is consistent and collision-proof\n- [ ] Error handling is comprehensive (file I/O, JSON parsing, etc.)\n- [ ] Cache storage location is configurable and respects OS conventions (~/.cache on Unix)\n- [ ] TTL mechanism is correct and efficient\n\n### Code Quality\n- [ ] Code is well-commented, especially around concurrency\n- [ ] Function signatures are clear and well-documented\n- [ ] No hardcoded paths or magic values\n- [ ] Proper logging for debugging cache hits/misses\n- [ ] Error messages are user-friendly and actionable\n- [ ] No unnecessary dependencies added\n\n### Testing Coverage\n- [ ] Unit tests cover all cache operations (read, write, expire)\n- [ ] Race condition tests (concurrent reads/writes)\n- [ ] TTL expiration tested\n- [ ] File system errors handled gracefully\n- [ ] Invalid cache data recovery works\n- [ ] At least 85% code coverage\n- [ ] Integration tests verify cache effectiveness (fewer API calls)\n\n### CLI Integration\n- [ ] Flags properly documented in help text\n- [ ] Flag defaults are sensible (24h TTL, ~/.cache location)\n- [ ] Flag validation catches invalid inputs early\n- [ ] Cache directory created if it doesn't exist\n- [ ] File permissions are appropriate (0700 or similar)\n\n### Performance\n- [ ] Cache lookups are fast (no noticeable latency)\n- [ ] No memory leaks in long-running operations\n- [ ] Disk I/O is efficient (not thrashing)\n- [ ] --cache-clear doesn't hang on large caches\n\n### Backward Compatibility\n- [ ] Existing code works without caching (--no-cache works)\n- [ ] Default behavior is unchanged (caching is transparent)\n- [ ] Old cache files don't break new code\n- [ ] Can safely coexist with future cache versioning\n\n### Documentation\n- [ ] README updated with cache explanation\n- [ ] CLI help text mentions cache behavior\n- [ ] Examples show cache flags\n- [ ] Known limitations documented (e.g., API key changes not detected)\n\n## Sign-Off Criteria\n- [ ] All checklist items reviewed\n- [ ] No critical issues found\n- [ ] Code follows project style guide\n- [ ] Tests pass locally and in CI\n- [ ] Performance acceptable (profile if needed)\n\n**Reviewer**: _____________  \n**Date**: _____________  \n**Status**: Pass / Needs Work","notes":"Code review completed. Findings:\n\n✓ tmu-r2x (Cache Control Flags): \n  - Implementation complete with proper error handling\n  - Added PersistentPostRunE cleanup hook for resource management\n  - Thread-safe implementation using cobra persistent hooks\n  - All tests pass with race detector\n  - No linting issues detected\n\n✓ Testing:\n  - Ran full test suite with race detector: all pass\n  - Build verification successful\n  - No vet warnings\n\n✓ Thread Safety: \n  - Cache initialization properly synchronized in PreRunE\n  - Cleanup properly handled in PostRunE\n  - No concurrent access to cacheStore variable\n\n✓ Error Handling:\n  - Proper error propagation with context\n  - Clear error messages for cache initialization failures\n  - TTL parsing handled by time.Duration\n\nRecommendations:\n  - Consider adding info-level logging for cache operations (optional enhancement)\n  - Consider cache metrics/stats endpoint (future enhancement)\n  - Documentation complete in INTENTS-2025-01-26-12-35.md","status":"closed","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T22:52:06.787267557-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T06:31:25.540651601-05:00","closed_at":"2026-01-26T06:31:25.540651601-05:00","close_reason":"Code review completed successfully. Verified tmu-r2x implementation including cache control flags, resource cleanup, thread safety, error handling, and test coverage. All recommendations documented.","dependencies":[{"issue_id":"tmu-893","depends_on_id":"tmu-4rj","type":"discovered-from","created_at":"2026-01-25T22:52:31.574355457-05:00","created_by":"Vincent Desjardins"},{"issue_id":"tmu-893","depends_on_id":"tmu-u7w","type":"discovered-from","created_at":"2026-01-25T22:52:31.603672984-05:00","created_by":"Vincent Desjardins"},{"issue_id":"tmu-893","depends_on_id":"tmu-r2x","type":"discovered-from","created_at":"2026-01-25T22:52:31.631613946-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-91w","title":"Improve error handling and user-facing error messages","status":"open","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T18:47:01.444012682-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-25T18:47:01.444012682-05:00","dependencies":[{"issue_id":"tmu-91w","depends_on_id":"tmu-bu5","type":"blocks","created_at":"2026-01-25T18:47:10.81399086-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-abp","title":"Set up continuous compilation and test loop","status":"closed","priority":3,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-01-26T08:02:00.522133818-05:00","created_by":"Vincent Desjardins","updated_at":"2026-02-03T07:07:04.328983431-05:00","closed_at":"2026-02-03T07:07:04.328983431-05:00","close_reason":"Will not do - deprioritized in favor of other features"}
{"id":"tmu-bu5","title":"Terraform Module Updater - Release \u0026 Production Readiness","status":"in_progress","priority":1,"issue_type":"epic","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T18:46:58.980855704-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T07:58:20.386709892-05:00"}
{"id":"tmu-d19","title":"Document CLI flags and add help/man page support","status":"open","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T18:47:05.284174799-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-25T18:47:05.284174799-05:00","dependencies":[{"issue_id":"tmu-d19","depends_on_id":"tmu-bu5","type":"blocks","created_at":"2026-01-25T18:47:10.922724457-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-exu","title":"Clarify Local Paths versioning semantics in README","description":"The README's 'Supported Module Sources' section (lines 154-162) lists 'Local Paths' as 'Not Yet Implemented' but doesn't explain what versioning semantics would apply.\n\nKey questions to clarify:\n- Should local module paths (e.g., ../modules/mymodule) even support automatic versioning?\n- If yes, should versioning be based on git commits, tags, or filesystem metadata?\n- What makes local paths fundamentally different from remote sources for versioning purposes?\n- Should local modules be documented as 'out of scope' or 'future feature'?\n\nUpdate the README to clearly explain the design decision and constraints around versioning local module paths.","status":"closed","priority":3,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-02-03T06:38:58.128750062-05:00","created_by":"Vincent Desjardins","updated_at":"2026-02-03T06:46:21.58894049-05:00","closed_at":"2026-02-03T06:46:21.58894049-05:00","close_reason":"Removed all Local Paths references from code and documentation. SourceTypeLocal enum, LocalHandler, and all related tests removed. README updated to remove Local Paths from supported module sources table and future support list. All internal tests pass."}
{"id":"tmu-fpb","title":"Comprehensive test suite for version constraints (parser, evaluator, integration)","description":"Create exhaustive test suite for constraint functionality covering all parser, evaluator, and integration layers.\n\n## PARSER TESTS (tmu-1d4)\nOperator parsing:\n- ✓ Exact match: '= 1.2.3'\n- ✓ Not equal: '!= 1.2.3'\n- ✓ Greater than: '\u003e 1.2.3'\n- ✓ Greater or equal: '\u003e= 1.2.3'\n- ✓ Less than: '\u003c 1.2.3'\n- ✓ Less or equal: '\u003c= 1.2.3'\n- ✓ Pessimistic ~\u003e1.2, ~\u003e1, ~\u003e1.2.3\n\nEdge cases:\n- ✓ Whitespace handling: ' \u003e= 1.0 ', '  \u003e  1.0  '\n- ✓ No whitespace: '\u003e=1.0', '\u003c2.0'\n- ✓ Pre-release versions: '\u003e= 1.0.0-alpha'\n- ✓ Multiple constraints: '\u003e= 1.0, \u003c 2.0', '~\u003e 1.2, != 1.2.5'\n- ✓ Invalid syntax (should error): 'abc', '\u003e\u003e 1.0', '@#$ 1.0'\n- ✓ Empty constraints: '', null\n\n## EVALUATOR TESTS (tmu-17z)\nOperator matching:\n- ✓ Exact: '= 1.2.3' matches '1.2.3' only\n- ✓ Not equal: '!= 1.2.3' excludes '1.2.3'\n- ✓ Comparison operators: '\u003e 1.0' matches '1.1', '2.0' not '1.0'\n- ✓ Range: '\u003e= 1.0, \u003c 2.0' matches 1.x but not 2.0+\n- ✓ Pessimistic: '~\u003e 1.2' matches 1.2.x but not 1.3, 2.0\n- ✓ Pessimistic: '~\u003e 2' matches 2.x but not 3.x\n\nMultiple constraints (AND semantics):\n- ✓ All must match: '\u003e= 1.0, \u003c 2.0' + version 1.5 = true\n- ✓ One fails: '\u003e= 1.0, \u003c 2.0' + version 2.5 = false\n- ✓ Complex: '\u003e= 1.0, \u003c= 2.0, != 1.5' filters correctly\n\nPre-release handling:\n- ✓ Pre-release excluded by default: '\u003e= 1.0' doesn't match '1.1.0-alpha'\n- ✓ Pre-release included explicitly: '\u003e= 1.0.0-alpha' matches '1.0.0-alpha'\n- ✓ RC/alpha/beta versions: Correct semver ordering\n\nBoundary conditions:\n- ✓ Major version change: '~\u003e 1.0' stops at 2.0\n- ✓ Minor version change: '~\u003e 1.2' stops at 2.0\n- ✓ Patch version: '~\u003e 1.2.3' stops at 1.3.0\n- ✓ Single digit versions: '~\u003e 1' means '\u003c 2'\n\nInvalid inputs (should error):\n- ✓ Invalid version format in constraint\n- ✓ Invalid version to check against\n\n## INTEGRATION TESTS (tmu-7gv)\nVersion selection with constraints:\n- ✓ SelectVersion with no constraints (existing behavior)\n- ✓ SelectVersion filters by constraints: [1.0, 1.5, 2.0] + '\u003c 2.0' = [1.0, 1.5]\n- ✓ SelectVersion returns highest matching: [1.0, 1.5, 2.0] + '\u003e= 1.0, \u003c 2.0' = 1.5\n- ✓ SelectVersion with StrategyMinor + constraints\n- ✓ SelectVersion with StrategyLatest + constraints\n- ✓ No versions match constraints (should error gracefully)\n- ✓ Current version violates constraints (should detect and warn)\n\nStrategy interaction:\n- ✓ Minor strategy respects constraints: ~\u003e 1.0 from [1.5, 2.0, 2.5] = 1.5\n- ✓ Latest strategy respects constraints: \u003e= 1.0, \u003c 2.0 from [1.5, 2.0, 2.5] = 1.5\n\n## CLI TESTS (tmu-juw)\nFlag parsing:\n- ✓ Single constraint: --constraint \"\u003e= 1.0\"\n- ✓ Multiple constraints: --constraint \"\u003e= 1.0\" --constraint \"\u003c 2.0\"\n- ✓ Constraint file: --constraint-file constraints.json\n- ✓ Mixed: --constraint \"\u003e= 1.0\" --constraint-file extra.json\n- ✓ Invalid constraint syntax (error at startup)\n\nConstraint file formats:\n- ✓ JSON file parsing: { \"module_source\": \"constraint\" }\n- ✓ YAML file parsing\n- ✓ Missing file (should error)\n- ✓ Invalid JSON/YAML (should error)\n\nOutput/Display:\n- ✓ Constraints displayed in show output\n- ✓ Constraints displayed in update output\n- ✓ Applied constraints clearly visible\n\nEnd-to-end:\n- ✓ show --constraint succeeds with matching versions\n- ✓ show --constraint reports when no versions match\n- ✓ update --constraint correctly filters candidates\n- ✓ Integration with --strategy flag (both work together)\n\n## PERFORMANCE TESTS\n- ✓ Constraint evaluation: Fast with 100+ versions\n- ✓ No regression vs unconstrained (similar speed)\n- ✓ Parser: \u003c1ms per constraint\n\n## COVERAGE REQUIREMENTS\n- ✓ Minimum 90% code coverage for constraints.go\n- ✓ Minimum 85% coverage for strategy.go changes\n- ✓ All error paths tested\n- ✓ All branches covered\n\nDepends on: tmu-1d4, tmu-17z, tmu-7gv, tmu-juw","status":"closed","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T22:46:01.392251595-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T07:53:05.496247259-05:00","closed_at":"2026-01-26T07:53:05.496247259-05:00","close_reason":"Comprehensive test suite successfully implemented and verified. Coverage targets achieved: constraints.go 100% on critical functions, strategy.go 85.7%+ on constraints integration. Overall version package coverage: 92.4%. All 7 constraint operators fully tested with edge cases, pre-releases, and boundary conditions.","dependencies":[{"issue_id":"tmu-fpb","depends_on_id":"tmu-1d4","type":"blocks","created_at":"2026-01-25T22:46:20.111462242-05:00","created_by":"Vincent Desjardins"},{"issue_id":"tmu-fpb","depends_on_id":"tmu-17z","type":"blocks","created_at":"2026-01-25T22:46:20.14029129-05:00","created_by":"Vincent Desjardins"},{"issue_id":"tmu-fpb","depends_on_id":"tmu-7gv","type":"blocks","created_at":"2026-01-25T22:46:20.168122345-05:00","created_by":"Vincent Desjardins"},{"issue_id":"tmu-fpb","depends_on_id":"tmu-juw","type":"blocks","created_at":"2026-01-25T22:46:20.195109766-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-i1s","title":"Add caching layer for module registry queries","status":"closed","priority":3,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T18:47:06.672640761-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T17:20:48.304720627-05:00","closed_at":"2026-01-26T17:20:48.304720627-05:00","close_reason":"Caching layer for module registry queries is fully implemented, tested, and production-ready","dependencies":[{"issue_id":"tmu-i1s","depends_on_id":"tmu-bu5","type":"blocks","created_at":"2026-01-25T18:47:10.97589716-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-iie","title":"Create remote repository vdesjardins/tf-update-module-versions on GitHub","description":"Set up a public GitHub repository at vdesjardins/tf-update-module-versions to enable:\n\n- Public code sharing and collaboration\n- CI/CD integration (GitHub Actions)\n- Release management and package distribution\n- Community contributions via pull requests\n- Issue tracking and discussions\n\nTasks:\n1. Create repository on GitHub (vdesjardins/tf-update-module-versions)\n2. Configure repository settings:\n   - Add description and topics\n   - Configure branch protection rules\n   - Set up default branch\n3. Add git remote to local repository\n4. Push existing code to GitHub\n5. Verify repository is properly set up with all commits and branches","status":"closed","priority":1,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-02-03T06:40:36.685826781-05:00","created_by":"Vincent Desjardins","updated_at":"2026-02-03T07:14:30.490331224-05:00","closed_at":"2026-02-03T07:14:30.490331224-05:00","close_reason":"GitHub repository created and code already pushed. Repository is live at https://github.com/vdesjardins/tf-update-module-versions","dependencies":[{"issue_id":"tmu-iie","depends_on_id":"tmu-bu5","type":"discovered-from","created_at":"2026-02-03T06:48:30.244983646-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-izc","title":"Add comprehensive CI workflow (tests, lint, build) to GitHub Actions","description":"Create a comprehensive GitHub Actions CI workflow that runs automated testing, linting, and build validation on every push and pull request.\n\n## Overview\n\nCurrently, there is no automated CI pipeline to validate code quality before merging. This workflow will ensure:\n- All tests pass before code is merged\n- Code follows project standards (linting)\n- Binary successfully builds on all commits\n- Code coverage is tracked\n\n## Workflow: .github/workflows/ci.yml\n\n### Trigger Events\n- On push to: main, develop branches\n- On pull requests: all branches\n- Allow manual trigger (workflow_dispatch)\n\n### Jobs\n\n#### 1. Test Job\n**Name**: test\n**Runs-on**: ubuntu-latest\n**Steps**:\n- Checkout code (fetch-depth: 0 for full history)\n- Set up Go 1.25\n- Download dependencies: go mod download\n- Run unit tests: go test -v -race -coverprofile=coverage.out ./...\n- Generate coverage report\n- Upload coverage to CodeCov (optional)\n- Fail if tests don't pass\n\n**Timeout**: 10 minutes\n\n#### 2. Lint Job\n**Name**: lint\n**Runs-on**: ubuntu-latest\n**Steps**:\n- Checkout code\n- Set up Go 1.25\n- Run linter: golangci-lint run ./...\n- Report issues as annotations\n- Fail if linting errors found\n\n**Timeout**: 5 minutes\n\n#### 3. Build Job\n**Name**: build\n**Runs-on**: ubuntu-latest\n**Steps**:\n- Checkout code\n- Set up Go 1.25\n- Build static binary: make build\n- Verify binary exists at bin/tf-update-module-versions\n- Cache Go modules for faster builds\n\n**Timeout**: 5 minutes\n\n### Matrix Strategy (Optional)\n\nConsider matrix testing across multiple Go versions:\n- Go 1.24\n- Go 1.25 (default)\n\n### Cache Strategy\n\n- Cache Go modules: go/pkg/mod\n- Cache Go build cache: ~/.cache/go-build\n\n### Reporting\n\n- ✅ Test results visible in PR checks\n- ✅ Linting errors as PR annotations\n- ✅ Build failures block merge\n- ✅ Coverage reports (optional, via CodeCov)\n- ✅ Workflow artifacts (optional, store binary)\n\n### Exit Criteria\n\nPR cannot be merged unless:\n- ✅ All tests pass\n- ✅ Lint check passes\n- ✅ Binary builds successfully\n- ✅ No merge conflicts\n\n## Implementation Details\n\n### Go Version Consistency\n- Use same Go version as Nix flake (1.25)\n- Keep in sync with makefile\n\n### Parallel Execution\n- Run test, lint, and build in parallel for speed\n- Total workflow time should be ~5-7 minutes\n\n### Failure Handling\n- If any job fails, entire workflow fails\n- Failure prevents PR merge (branch protection)\n- Clear error messages for debugging\n\n### Performance Optimization\n- Use actions/cache for Go modules\n- Parallel job execution\n- Conditional job dependencies (optional)\n\n### Documentation\n- Update README with CI/CD section\n- Link to workflow status badge in README\n- Document what checks run before merge\n\n## Files to Create\n\n1.  - Main CI workflow (100-150 lines)\n2. Update README with CI/CD section and badge\n\n## Benefits\n\n✅ Catch bugs before merge\n✅ Enforce code quality standards\n✅ Prevent broken builds reaching main\n✅ Parallel execution for speed\n✅ Clear PR feedback\n✅ Professional CI/CD pipeline\n✅ Blocks merges if checks fail (with branch protection)","status":"closed","priority":1,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-02-03T07:29:58.672706569-05:00","created_by":"Vincent Desjardins","updated_at":"2026-02-03T07:31:49.540656132-05:00","closed_at":"2026-02-03T07:31:49.540656132-05:00","close_reason":"Implemented comprehensive CI pipeline with .github/workflows/ci.yml. Three parallel jobs: test (with coverage), lint (golangci-lint), and build (binary compilation). Added caching for Go modules and build artifacts. Updated README with CI/CD documentation and status badge.","dependencies":[{"issue_id":"tmu-izc","depends_on_id":"tmu-bu5","type":"discovered-from","created_at":"2026-02-03T07:30:27.419159837-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-juw","title":"Add --constraint CLI flag to update and show commands","description":"Add CLI support for version constraints in show and update commands.\n\nAdd flags:\n- --constraint STRING: Constraint expression (can be used multiple times)\n  Example: --constraint \"\u003e= 1.0\" --constraint \"\u003c 2.0\"\n  \n- --constraint-file PATH: Load constraints from file (JSON or YAML)\n  Format: { \"module_source\": \"constraint_expression\" }\n\nFlags should be added to:\n- cmd/tf-update-module-versions/cmd/show.go (show command)\n- cmd/tf-update-module-versions/cmd/update.go (update command)\n- cmd/tf-update-module-versions/cmd/root.go (make available to both)\n\nIntegration:\n- Parse constraints from CLI flags\n- Pass to VersionFetcher or version selection logic\n- Display applied constraints in output\n- Validate constraint syntax on startup\n\nExamples:\n  tf-update-module-versions show --constraint \"\u003e= 1.0\" /path\n  tf-update-module-versions update --constraint-file constraints.json /path\n\nDepends on: tmu-1d4, tmu-17z, tmu-7gv","status":"closed","priority":3,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T22:44:59.62740382-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T07:45:19.865509601-05:00","closed_at":"2026-01-26T07:45:19.865509601-05:00","close_reason":"Added --constraint and --constraint-file CLI flags to show and update commands","dependencies":[{"issue_id":"tmu-juw","depends_on_id":"tmu-7gv","type":"blocks","created_at":"2026-01-25T22:45:15.530617452-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-qc7","title":"Add .editorconfig and configure whitespace stripping in pre-commit","description":"Add .editorconfig file to standardize editor settings across the project and integrate with pre-commit hooks to automatically strip trailing whitespace from all files.\n\n## Overview\n\nEditorConfig ensures consistent editor behavior and formatting across different IDEs and text editors. Combined with pre-commit hooks, it automatically enforces formatting standards before commits.\n\n## Implementation\n\n### 1. Create .editorconfig\n\nStandard configuration for the project:\n- Root: true (this is the root config)\n- Default for all files:\n  - charset = utf-8\n  - end_of_line = lf\n  - insert_final_newline = true\n  - trim_trailing_whitespace = true\n- Go files:\n  - indent_style = tab\n  - indent_size = 4\n- YAML files (.github/workflows/*.yml, .pre-commit-config.yaml):\n  - indent_style = space\n  - indent_size = 2\n- Markdown files:\n  - trim_trailing_whitespace = false (preserve for hard breaks)\n\n### 2. Update .pre-commit-config.yaml\n\nAdd trim-trailing-whitespace hook:\n\n\n### 3. Integration Points\n\n- ✅ Local pre-commit hooks (developers)\n- ✅ GitHub Actions pre-commit workflow (tmu-2gi)\n- ✅ IDE support: VS Code, GoLand, Vim, Neovim (auto-apply settings)\n\n## Benefits\n\n✅ Consistent formatting across entire team\n✅ Automatic trailing whitespace removal\n✅ IDE-independent configuration\n✅ Prevents 'noisy' diffs from formatting-only changes\n✅ Works with existing pre-commit framework\n✅ Zero manual intervention after commit\n\n## Files to Modify/Create\n\n1. Create:  (30 lines)\n2. Update:  (add hooks)\n3. Update: README with EditorConfig section\n\n## Configuration Details\n\n### Go Files\n- Tab indentation (4 spaces wide)\n- Follows Go conventions\n\n### YAML Files\n- Space indentation (2 spaces)\n- Matches GitHub Actions workflow style\n\n### Markdown Files\n- Keep trailing whitespace (used for hard line breaks)\n\n### All Files\n- LF line endings (Unix standard)\n- UTF-8 encoding\n- Final newline at EOF\n- Trim trailing whitespace (except markdown)\n\n## Testing\n\n1. Verify .editorconfig is recognized by editor\n2. Run pre-commit hooks: \n3. Check that trailing whitespace is removed\n4. Verify final newlines are added\n5. Ensure no unintended changes\n\n## Documentation\n\nUpdate README with:\n- EditorConfig overview\n- IDE setup instructions (VS Code, GoLand)\n- How it integrates with pre-commit\n- Benefits for team consistency","status":"closed","priority":2,"issue_type":"task","owner":"vdesjardins@gmail.com","created_at":"2026-02-03T08:07:12.213020937-05:00","created_by":"Vincent Desjardins","updated_at":"2026-02-03T18:48:46.602730731-05:00","closed_at":"2026-02-03T18:48:46.602730731-05:00","close_reason":"Completed: Integrated pre-commit hooks from cachix/pre-commit-hooks.nix in flake.nix. Hooks now run declaratively via Nix when entering dev shell. Removed manual .pre-commit-config.yaml.","dependencies":[{"issue_id":"tmu-qc7","depends_on_id":"tmu-bu5","type":"discovered-from","created_at":"2026-02-03T08:07:28.316319469-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-r2x","title":"Add cache control CLI flags (--cache-dir, --no-cache, --cache-ttl)","description":"Add CLI flags to control caching behavior:\n- --cache-dir PATH: Specify cache directory (default: ~/.cache/tf-update-module-versions)\n- --no-cache: Disable caching for this run\n- --cache-ttl SECONDS: Override cache TTL (default: 86400 = 24 hours)\n- --cache-clear: Clear cache before running\n\nFlags should be added to both 'show' and 'update' commands via root command.\nUpdate help text to document cache behavior.","status":"closed","priority":2,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T22:39:34.643067471-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T06:29:25.114336085-05:00","closed_at":"2026-01-26T06:29:25.114336085-05:00","close_reason":"Cache control CLI flags implemented. Added --cache-dir, --cache-ttl, and --cache-clear flags to root command with PersistentPreRunE hook for cache initialization. Integrated with show and update commands. Tests pass and build succeeds.","dependencies":[{"issue_id":"tmu-r2x","depends_on_id":"tmu-u7w","type":"blocks","created_at":"2026-01-25T22:39:44.98613201-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-sh8","title":"Add support for constraints (\u003e=, \u003c=, ~\u003e, etc) in update operations","status":"open","priority":3,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T18:47:06.128923169-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-25T18:47:06.128923169-05:00","dependencies":[{"issue_id":"tmu-sh8","depends_on_id":"tmu-bu5","type":"blocks","created_at":"2026-01-25T18:47:10.950024107-05:00","created_by":"Vincent Desjardins"}]}
{"id":"tmu-u7w","title":"Integrate cache layer into registry Client","description":"Integrate the cache layer from tmu-4rj into the registry Client. Should:\n- Modify internal/registry/client.go to check cache before HTTP calls\n- Store successful responses in cache\n- Handle cache misses and hits appropriately\n- Avoid breaking existing API contracts\n\nAcceptance criteria:\n- FetchModuleVersions checks cache first\n- Cache hits avoid HTTP requests\n- Cache misses fetch and store results\n- Performance tests show improvement\n- All existing tests still pass","status":"closed","priority":2,"issue_type":"feature","owner":"vdesjardins@gmail.com","created_at":"2026-01-25T22:39:34.38330724-05:00","created_by":"Vincent Desjardins","updated_at":"2026-01-26T06:21:31.474689134-05:00","closed_at":"2026-01-26T06:21:31.474689134-05:00","close_reason":"Cache layer successfully integrated into registry Client. Implemented cache checking and storage in FetchModuleVersions and FetchModuleInfo methods. Added tests to verify cache behavior.","dependencies":[{"issue_id":"tmu-u7w","depends_on_id":"tmu-4rj","type":"blocks","created_at":"2026-01-25T22:39:44.957189798-05:00","created_by":"Vincent Desjardins"}]}
